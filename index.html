<!DOCTYPE html>
<html lang="en-US">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBF3H8PPWK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PBF3H8PPWK');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RelayPro Engineering Services</title>
    <script src="d3.js"></script>
    <script src="index.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a class="header" href="#home" id="headerHome">Home</a></li>
                <li><a class="header" href="#about">About</a></li>
                <li class="dropdown">
                    <a class="header" href="#tool">Tools</a>
                    <ul class="submenu">
                        <li><a href="#OvercurrentOperatingTime">O/C Op. Time</a></li>
                        <li><a href="#tools2">Tools 2</a></li>
                        <li><a href="#tools3">Tools 3</a></li>
                    </ul>
                </li>
                <li><a class="header" href="#blog">Blog</a></li>
                <li><a class="header" href="#YouTube">YouTube</a></li>
                <li><a class="header" href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="home">
            <div class="container" id="carousel">
                <div class="slide active" id="slide1">
                    <div class="col-md-4" id="svgTitle"></div>
                </div>
                <div class="slide" id="slide2">
                    <div id="slide2Text" width = "100%"></div>
                    <div class="col-md-4" id="vis"></div>
                </div>
                <div class="slide" id="tabs-2">
                    <div  id="tabs-2Text" width = "100%">                                       
                    </div>
                    <table id="table_variable" >
                        <tr>
                            <td id="cell_left" > <div id="viz">  </div>	</td>
                            <td id="cell_right" style="vertical-align: top; width: 100%; height: 100%">                              
                                            <div id="viz_polar">
                                            </div>
                            </td>
                        </tr> 
                    </table>	 
                                   
                </div>
                <div class="slide" id="second_slide" >

                    <div id="topMenueDiv" class="menue2"> 
                        <table id="topMenueTable" class="menue2" width="77%" >
                            <tr id="topMenueButtons">
                                <td id="tdButtons1"> 
                        <!--    <label >
                                        <input type="checkbox" name="switch" onclick="toggleSwitch(this)" checked>
                                        Stop
                                    </label>  -->
                                </td>
                                <td id="tdButtons2">  
                        <!-- 	<label >
                                        <input type="checkbox" name="radiowaveABC" onclick="toggleShowA(this)" id="radioABC">
                                        ABC
                                    </label>  --> 
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div id="trig"  class="menue2" > 
                        <div id="trigText" width = "100%"></div>
                    </div>
                    <div id="char" class="menue2"> 
                
                        <table id="char_variables" class="menue2" width="75%" style="color: steelblue;font-size:16px">
                            <tr id="variablesForChar">
                                <td id="tdChar1"> 
                                <label >
                                </label> 
                                </td>	
                                <td id="tdChar2" style="text-align:center;">
                                </td>						
                                <td id="tdChar3" style="text-align:center;">
                                </td>
                                <td id="tdChar4" style="text-align:left;">
                                </td>				
                            </tr>
                        </table>
                    </div>
                    <div id="ForChar"> </div>
                </div>
            </div>            
        </section>

        <section id="about">
            <div class="container" style="width:70%">
                <h2 >About Cesar Tech Services</h2>
                <p  >Welcome to my page! I'm dedicated to sharing my 10 years expertise in protection relay engineering applications through captivating visualization and interactive widgets. I believe that learning should be engaging, accessible, and enjoyable, and that's why I've curated a collection of resources designed to make complex concepts easier to understand.</p>
                <p  >With a passion for both engineering and education, I strive to bridge the gap between theoretical knowledge and practical application. Through my content, I aim to empower aspiring protection relay engineers, enthusiasts, and professionals alike, providing them with the tools they need to excel in their field.</p>
                <p  >Whether you're just starting out or looking to expand your knowledge, my social profile is the place to be. I've carefully crafted tutorials, case studies, and interactive simulations to provide a hands-on learning experience. Dive into the world of protection relay engineering and unlock the secrets behind this vital aspect of electrical systems.</p>
                <p   >Cesar Tech Services is a professional freelance consultancy founded by a highly skilled individual with an MBA, Salesforce.com certification, and an Engineering degree from Ecole Polytechnique Brussels. Fluent in French, English, Portuguese, and Spanish, Cesar Tech Services offers a diverse range of services spanning web development, engineering solutions, and IT consulting.</p>
            </div>
        </section>
        <section id="tool" style="height:100%">
            <a href="#OvercurrentOperatingTime">O/C Op. Time</a>
            <a href="#tools2">Tools 2</a>
            <a href="#tools3">Tools 3</a>
        </section>
        <section id="OvercurrentOperatingTime"> 
            <div class="container" style="width:100%">
                <h2 style="margin-bottom: 0;">Overcurrent: Testing</h2>
                <div id="overcurrent_container">
                    <table id="50_Description">
                        <tr height="100%">
                            <td width="40%">
                                <svg  width="600" height="600" id="svg4627" viewBox="0 0 600 600" preserveAspectRatio="xMinYMin meet"> 
                                    <g id="layer1">
                                        <g id="empty" transform="translate(250,-229) scale(0.9)" style="display:inline">
                                        <path
                                            style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                            d="m 300.99086,610.86218 0,18.75"
                                            id="path3971"
                                            />    
                                            <path
                                                id="path3955"
                                                d="m 199.69913,660.76186 0,-15.34415 6.10795,4.84552 5.76862,-4.57632 0,14.8394"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.98600006;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3957"
                                                d="m 269.91358,649.81784 5.92409,-5.92409 0,15.18048"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.14748287;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3963"
                                                d="m 246.72918,651.36218 13,0"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3965"
                                                d="m 168.77755,611.79272 13.87697,19.7548"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3967"
                                                d="M 168.07044,631.50332 182.0358,611.39497"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.20000005;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3973"
                                                d="m 292.49086,620.36218 18,0"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3977"
                                                d="m 68.880542,622.04577 17.942838,0"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                d="m 68.880542,613.38371 17.942838,0"
                                                id="path3979"
                                                />
                                            <path
                                                id="path3981"
                                                d="m 56.384853,606.92616 0,21.78773 0.265165,1.06066 0.397747,0.83969 0.662913,0.57452 0.486136,0.35355 0.574524,0.17678 1.149049,0.0884 0.972271,-0.0884 0.618719,0.0442 0.486136,-0.0884"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3983"
                                                d="m 52.451571,614.12981 9.280777,0"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                            <path
                                                id="path3985"
                                                d="m 195.86858,619.5709 87.32768,0"
                                                style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                        <text
                                            style="font-size:28px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                            x="90.12846"
                                            y="633.97675"
                                            id="text3991"
                                            ><tspan
                                                id="multiplicateur"
                                                x="90.12846"
                                                y="630.97675">1</tspan></text>
                                        <text
                                            id="facteurbeta"
                                            y="611.48108"
                                            x="195.55667"
                                            style="font-size:28px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                            ><tspan
                                                y="611.48108"
                                                x="195.55667"
                                                id="tspan3997"
                                                >19.25</tspan></text>
                                        <text
                                            id="text3999"
                                            y="648.9577"
                                            x="214.60692"
                                            style="font-size:17px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                            ><tspan
                                                y="648.9577"
                                                x="214.60692"
                                                id="facteuralfa"
                                                >2</tspan></text>
                                        <text
                                            style="font-size:28px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                            x="322.08716"
                                            y="625.62323"
                                            id="text4003"
                                            ><tspan
                                                id="facteurL"
                                                x="322.08716"
                                                y="625.62323">19.25</tspan></text>
                                            </g>
                                        </g>  		  
                                            <g id="layer2">
                                                <g transform="translate(-150.35602,-375.669908)"
                                                    id="g4137">
                                                    <g transform="matrix(0.71027135,0,0,0.71027135,135.53476,158.69483)"
                                                        id="g3129">
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 589.15253,452.83078 13.87697,19.7548"
                                                        id="path3125"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.20000005;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 588.44542,472.54138 13.96536,-20.10835"
                                                        id="path3127"
                                                        />
                                                    </g>
                                                    <g
                                                        id="g3133"
                                                        transform="matrix(0.71027135,0,0,0.71027135,135.53476,197.23215)">
                                                    <path
                                                        
                                                        id="path3135"
                                                        d="m 589.15253,452.83078 13.87697,19.7548"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path3137"
                                                        d="m 588.44542,472.54138 13.96536,-20.10835"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.20000005;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    </g>
                                                    <g
                                                        transform="matrix(0.71027135,0,0,0.71027135,135.53476,236.83013)"
                                                        id="g3139">
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 589.15253,452.83078 13.87697,19.7548"
                                                        id="path3141"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.20000005;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 588.44542,472.54138 13.96536,-20.10835"
                                                        id="path3143"
                                                        />
                                                    </g>
                                                    <g
                                                        id="g3145"
                                                        transform="matrix(0.71027135,0,0,0.71027135,135.53476,275.0139)">
                                                    <path
                                                        
                                                        id="path3147"
                                                        d="m 589.15253,452.83078 13.87697,19.7548"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path3149"
                                                        d="m 588.44542,472.54138 13.96536,-20.10835"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.20000005;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    </g>
                                                    <g
                                                        transform="matrix(0.60985505,0,0,0.60985505,555.22104,177.33235)"
                                                        id="g3155">
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 68.880542,509.04577 17.942838,0"
                                                        id="path3157"
                                                        />
                                                    <path
                                                        
                                                        id="path3159"
                                                        d="m 68.880542,500.38371 17.942838,0"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    </g>
                                                    <g
                                                        id="g3161"
                                                        transform="matrix(0.60985505,0,0,0.60985505,555.22104,216.22322)">
                                                    <path
                                                        
                                                        id="path3163"
                                                        d="m 68.880542,509.04577 17.942838,0"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 68.880542,500.38371 17.942838,0"
                                                        id="path3165"
                                                        />
                                                    </g>
                                                    <g
                                                        transform="matrix(0.60985505,0,0,0.60985505,555.22104,255.11409)"
                                                        id="g3167">
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 68.880542,509.04577 17.942838,0"
                                                        id="path3169"
                                                        />
                                                    <path
                                                        
                                                        id="path3171"
                                                        d="m 68.880542,500.38371 17.942838,0"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    </g>
                                                    <g
                                                        id="g3173"
                                                        transform="matrix(0.60985505,0,0,0.60985505,555.22104,294.00496)">
                                                    <path
                                                        
                                                        id="path3175"
                                                        d="m 68.880542,509.04577 17.942838,0"
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.9000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 68.880542,500.38371 17.942838,0"
                                                        id="path3177"
                                                        />
                                                    </g>
                                                    <g
                                                        transform="translate(-92.022521,22.715805)"
                                                        id="g3961">
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 808.66499,458.67975 -0.81759,-0.48614 -0.7513,-0.26517 -0.83969,-0.19887 -0.61872,-0.0663 -0.57452,-0.0442 -0.39775,0.0221 -0.61872,0.13259 -0.46404,0.13258 -0.39775,0.17677 -0.28726,0.15468 -0.30936,0.19888 -0.28726,0.41984 -0.30936,0.61872 -0.15468,0.7513 0.0442,0.59662 0.28726,0.59662 0.55243,0.59663 0.77339,0.61871 0.97228,0.55243 0.685,0.37565 1.12696,0.50823 0.7513,0.44195 0.7071,0.53033 0.35356,0.68501 0.26516,0.86178 -0.0442,0.97227 -0.50823,1.14905 -0.99437,0.83969 -0.61872,0.35356 -1.12695,0.0884 -0.92808,-0.0442 -0.97227,-0.0663 -0.61872,-0.22097 -1.08276,-0.35356 -0.70711,-0.44194"
                                                        id="path3179"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 823.07229,468.8665 -0.95017,0.46404 -0.97227,0.33146 -1.94455,0.22097 -1.39211,0.0221 -1.19325,-0.24307 -1.23743,-0.50824 -1.06066,-1.06066 -0.7734,-1.67937 -0.30936,-2.03294 0.0884,-2.65165 0.46404,-1.37002 0.95017,-1.54679 1.19324,-0.97227 1.19325,-0.33146 1.94454,-0.0442 2.12132,1.30372 0.64082,0.88389 0.48613,1.37002 0.15468,1.41421 -0.0442,0.83969 -8.81674,0.13258"
                                                        id="path3181"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 836.17586,459.27637 -0.7292,-0.55243 -0.59662,-0.41984 -0.68501,-0.35356 -0.55243,-0.15468 -0.64081,-0.13258 -0.68501,-0.0221 -0.83969,0.13259 -0.66291,0.17677 -0.7734,0.33146 -0.44194,0.39775 -0.48614,0.46403 -0.46404,0.57453 -0.35355,0.86179 -0.26517,0.88388 -0.26516,1.30373 0.0221,1.03856 0.0884,0.95017 0.28727,1.50261 0.44194,1.12695 0.64081,1.06066 0.72921,0.7071 0.86178,0.46404 1.21534,0.33146 1.30373,-0.15468 1.08276,-0.35355 0.83969,-0.33146 1.06066,-0.68501"
                                                        id="path3183"
                                                        />
                                                    </g>
                                                    <g
                                                        id="g4022"
                                                        transform="translate(-92.022521,61.960231)">
                                                    <path
                                                        
                                                        id="path4024"
                                                        d="m 808.66499,458.67975 -0.81759,-0.48614 -0.7513,-0.26517 -0.83969,-0.19887 -0.61872,-0.0663 -0.57452,-0.0442 -0.39775,0.0221 -0.61872,0.13259 -0.46404,0.13258 -0.39775,0.17677 -0.28726,0.15468 -0.30936,0.19888 -0.28726,0.41984 -0.30936,0.61872 -0.15468,0.7513 0.0442,0.59662 0.28726,0.59662 0.55243,0.59663 0.77339,0.61871 0.97228,0.55243 0.685,0.37565 1.12696,0.50823 0.7513,0.44195 0.7071,0.53033 0.35356,0.68501 0.26516,0.86178 -0.0442,0.97227 -0.50823,1.14905 -0.99437,0.83969 -0.61872,0.35356 -1.12695,0.0884 -0.92808,-0.0442 -0.97227,-0.0663 -0.61872,-0.22097 -1.08276,-0.35356 -0.70711,-0.44194"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4026"
                                                        d="m 823.07229,468.8665 -0.95017,0.46404 -0.97227,0.33146 -1.94455,0.22097 -1.39211,0.0221 -1.19325,-0.24307 -1.23743,-0.50824 -1.06066,-1.06066 -0.7734,-1.67937 -0.30936,-2.03294 0.0884,-2.65165 0.46404,-1.37002 0.95017,-1.54679 1.19324,-0.97227 1.19325,-0.33146 1.94454,-0.0442 2.12132,1.30372 0.64082,0.88389 0.48613,1.37002 0.15468,1.41421 -0.0442,0.83969 -8.81674,0.13258"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4028"
                                                        d="m 836.17586,459.27637 -0.7292,-0.55243 -0.59662,-0.41984 -0.68501,-0.35356 -0.55243,-0.15468 -0.64081,-0.13258 -0.68501,-0.0221 -0.83969,0.13259 -0.66291,0.17677 -0.7734,0.33146 -0.44194,0.39775 -0.48614,0.46403 -0.46404,0.57453 -0.35355,0.86179 -0.26517,0.88388 -0.26516,1.30373 0.0221,1.03856 0.0884,0.95017 0.28727,1.50261 0.44194,1.12695 0.64081,1.06066 0.72921,0.7071 0.86178,0.46404 1.21534,0.33146 1.30373,-0.15468 1.08276,-0.35355 0.83969,-0.33146 1.06066,-0.68501"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    </g>
                                                    <g
                                                        transform="translate(-92.022521,101.02788)"
                                                        id="g4030">
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 808.66499,458.67975 -0.81759,-0.48614 -0.7513,-0.26517 -0.83969,-0.19887 -0.61872,-0.0663 -0.57452,-0.0442 -0.39775,0.0221 -0.61872,0.13259 -0.46404,0.13258 -0.39775,0.17677 -0.28726,0.15468 -0.30936,0.19888 -0.28726,0.41984 -0.30936,0.61872 -0.15468,0.7513 0.0442,0.59662 0.28726,0.59662 0.55243,0.59663 0.77339,0.61871 0.97228,0.55243 0.685,0.37565 1.12696,0.50823 0.7513,0.44195 0.7071,0.53033 0.35356,0.68501 0.26516,0.86178 -0.0442,0.97227 -0.50823,1.14905 -0.99437,0.83969 -0.61872,0.35356 -1.12695,0.0884 -0.92808,-0.0442 -0.97227,-0.0663 -0.61872,-0.22097 -1.08276,-0.35356 -0.70711,-0.44194"
                                                        id="path4032"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 823.07229,468.8665 -0.95017,0.46404 -0.97227,0.33146 -1.94455,0.22097 -1.39211,0.0221 -1.19325,-0.24307 -1.23743,-0.50824 -1.06066,-1.06066 -0.7734,-1.67937 -0.30936,-2.03294 0.0884,-2.65165 0.46404,-1.37002 0.95017,-1.54679 1.19324,-0.97227 1.19325,-0.33146 1.94454,-0.0442 2.12132,1.30372 0.64082,0.88389 0.48613,1.37002 0.15468,1.41421 -0.0442,0.83969 -8.81674,0.13258"
                                                        id="path4034"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 836.17586,459.27637 -0.7292,-0.55243 -0.59662,-0.41984 -0.68501,-0.35356 -0.55243,-0.15468 -0.64081,-0.13258 -0.68501,-0.0221 -0.83969,0.13259 -0.66291,0.17677 -0.7734,0.33146 -0.44194,0.39775 -0.48614,0.46403 -0.46404,0.57453 -0.35355,0.86179 -0.26517,0.88388 -0.26516,1.30373 0.0221,1.03856 0.0884,0.95017 0.28727,1.50261 0.44194,1.12695 0.64081,1.06066 0.72921,0.7071 0.86178,0.46404 1.21534,0.33146 1.30373,-0.15468 1.08276,-0.35355 0.83969,-0.33146 1.06066,-0.68501"
                                                        id="path4036"
                                                        />
                                                    </g>
                                                    <g
                                                        id="g4038"
                                                        transform="translate(-92.022521,139.91875)">
                                                    <path
                                                        
                                                        id="path4040"
                                                        d="m 808.66499,458.67975 -0.81759,-0.48614 -0.7513,-0.26517 -0.83969,-0.19887 -0.61872,-0.0663 -0.57452,-0.0442 -0.39775,0.0221 -0.61872,0.13259 -0.46404,0.13258 -0.39775,0.17677 -0.28726,0.15468 -0.30936,0.19888 -0.28726,0.41984 -0.30936,0.61872 -0.15468,0.7513 0.0442,0.59662 0.28726,0.59662 0.55243,0.59663 0.77339,0.61871 0.97228,0.55243 0.685,0.37565 1.12696,0.50823 0.7513,0.44195 0.7071,0.53033 0.35356,0.68501 0.26516,0.86178 -0.0442,0.97227 -0.50823,1.14905 -0.99437,0.83969 -0.61872,0.35356 -1.12695,0.0884 -0.92808,-0.0442 -0.97227,-0.0663 -0.61872,-0.22097 -1.08276,-0.35356 -0.70711,-0.44194"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4042"
                                                        d="m 823.07229,468.8665 -0.95017,0.46404 -0.97227,0.33146 -1.94455,0.22097 -1.39211,0.0221 -1.19325,-0.24307 -1.23743,-0.50824 -1.06066,-1.06066 -0.7734,-1.67937 -0.30936,-2.03294 0.0884,-2.65165 0.46404,-1.37002 0.95017,-1.54679 1.19324,-0.97227 1.19325,-0.33146 1.94454,-0.0442 2.12132,1.30372 0.64082,0.88389 0.48613,1.37002 0.15468,1.41421 -0.0442,0.83969 -8.81674,0.13258"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4044"
                                                        d="m 836.17586,459.27637 -0.7292,-0.55243 -0.59662,-0.41984 -0.68501,-0.35356 -0.55243,-0.15468 -0.64081,-0.13258 -0.68501,-0.0221 -0.83969,0.13259 -0.66291,0.17677 -0.7734,0.33146 -0.44194,0.39775 -0.48614,0.46403 -0.46404,0.57453 -0.35355,0.86179 -0.26517,0.88388 -0.26516,1.30373 0.0221,1.03856 0.0884,0.95017 0.28727,1.50261 0.44194,1.12695 0.64081,1.06066 0.72921,0.7071 0.86178,0.46404 1.21534,0.33146 1.30373,-0.15468 1.08276,-0.35355 0.83969,-0.33146 1.06066,-0.68501"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    </g>
                                                    
                                                    <path
                                                        
                                                        id="path4046"
                                                        d="m 577.59711,477.44017 1.10486,-0.61871 1.72357,-0.70711 1.32583,-0.26517 1.01646,0.13259 1.23744,0.39774 1.14905,0.97228 0.7513,1.06066 0.22097,1.19324 -0.0442,1.14905 -0.0884,1.41421 -0.53033,1.10485 -6.89429,7.77818 -0.53033,1.32582 9.54594,0"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4048"
                                                        d="m 578.30419,516.28685 2.16552,-1.10485 1.76777,-0.39775 1.23743,0.0884 1.37002,0.48614 0.97227,0.97227 0.57453,1.06066 0.17678,1.81196 -0.30936,1.14905 -0.70711,1.01646 -1.41421,0.83969 -1.14905,0.57453 -2.96101,0 3.0052,0.17677 2.07713,0.70711 1.72357,1.37002 0.66291,1.72357 0.0884,1.5026 -0.66291,1.5468 -1.19324,1.23744 -2.07713,0.79549 -2.60746,-0.0884 -1.54679,-0.53033 -1.41422,-0.39774"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4050"
                                                        d="m 587.31981,554.07287 -8.13173,0 0,7.38043 2.43068,-0.35355 1.63519,0 1.54679,0.35355 1.06067,0.66291 1.10485,1.37002 0.35355,1.45841 0.26517,1.59099 -0.44194,1.94454 -1.10486,1.28163 -1.76777,0.7955 -2.38648,0.35355 -1.90035,-0.13258 -1.45841,-0.83969 -0.88388,-0.22097"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4052"
                                                        d="m 567.55378,595.74798 4.91791,-2.83936 0,16.62794 -4.65275,0 8.66206,0"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4054"
                                                        d="m 582.63524,592.65439 -1.14905,0.26516 -1.19324,0.57452 -1.01647,0.97228 -0.66291,1.10485 -0.61872,1.98874 -0.13258,2.56326 -0.0442,2.43068 0.17677,2.51907 0.57453,1.98874 0.83969,1.4584 1.28163,1.01647 1.67938,0.48614 1.72357,-0.22098 1.37002,-1.01646 1.28163,-1.5026 0.66291,-2.07713 0.17678,-2.91681 0,-3.40296 -0.39775,-3.31456 -1.10485,-1.81196 -1.37002,-0.7955 z"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4056"
                                                        d="m 398.45467,475.89338 13.16987,0 -6.45235,0 0,17.23573"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 434.20744,481.39555 -0.81759,-0.48613 -0.7513,-0.26518 -0.83969,-0.19886 -0.61872,-0.0663 -0.57452,-0.0442 -0.39775,0.0221 -0.61872,0.13259 -0.46404,0.13258 -0.39775,0.17677 -0.28726,0.15467 -0.30936,0.19888 -0.28726,0.41984 -0.30936,0.61872 -0.15468,0.75131 0.0442,0.59661 0.28726,0.59662 0.55243,0.59663 0.77339,0.61871 0.97228,0.55243 0.685,0.37565 1.12696,0.50824 0.7513,0.44195 0.7071,0.53033 0.35356,0.68501 0.26516,0.86178 -0.0442,0.97227 -0.50823,1.14905 -0.99437,0.83969 -0.61872,0.35356 -1.12695,0.0884 -0.92808,-0.0442 -0.97227,-0.0663 -0.61872,-0.22098 -1.08276,-0.35356 -0.70711,-0.44193"
                                                        id="path4060"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 423.61474,491.58231 -0.95017,0.46403 -0.97227,0.33146 -1.94455,0.22098 -1.39211,0.0221 -1.19325,-0.24307 -1.23743,-0.50824 -1.06066,-1.06066 -0.7734,-1.67937 -0.30936,-2.03294 0.0884,-2.65165 0.46404,-1.37003 0.95017,-1.54678 1.19324,-0.97227 1.19325,-0.33146 1.94454,-0.0442 2.12132,1.30372 0.64082,0.88389 0.48613,1.37002 0.15468,1.41421 -0.0442,0.83969 -8.81674,0.13258"
                                                        id="path4062"
                                                        />
                                                    <path
                                                        
                                                        id="path4069"
                                                        d="m 531.70744,481.39555 -0.81759,-0.48613 -0.7513,-0.26518 -0.83969,-0.19886 -0.61872,-0.0663 -0.57452,-0.0442 -0.39775,0.0221 -0.61872,0.13259 -0.46404,0.13258 -0.39775,0.17677 -0.28726,0.15467 -0.30936,0.19888 -0.28726,0.41984 -0.30936,0.61872 -0.15468,0.75131 0.0442,0.59661 0.28726,0.59662 0.55243,0.59663 0.77339,0.61871 0.97228,0.55243 0.685,0.37565 1.12696,0.50824 0.7513,0.44195 0.7071,0.53033 0.35356,0.68501 0.26516,0.86178 -0.0442,0.97227 -0.50823,1.14905 -0.99437,0.83969 -0.61872,0.35356 -1.12695,0.0884 -0.92808,-0.0442 -0.97227,-0.0663 -0.61872,-0.22098 -1.08276,-0.35356 -0.70711,-0.44193"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4071"
                                                        d="m 519.61474,491.58231 -0.95017,0.46403 -0.97227,0.33146 -1.94455,0.22098 -1.39211,0.0221 -1.19325,-0.24307 -1.23743,-0.50824 -1.06066,-1.06066 -0.7734,-1.67937 -0.30936,-2.03294 0.0884,-2.65165 0.46404,-1.37003 0.95017,-1.54678 1.19324,-0.97227 1.19325,-0.33146 1.94454,-0.0442 2.12132,1.30372 0.64082,0.88389 0.48613,1.37002 0.15468,1.41421 -0.0442,0.83969 -8.81674,0.13258"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 441.37164,476.16295 0,14.47715 0.16011,0.70478 0.24018,0.55794 0.40028,0.38176 0.29354,0.23492 0.34692,0.11745 0.69382,0.0587 0.58709,-0.0587 0.3736,0.0294 0.29354,-0.0587"
                                                        id="path4075"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none"
                                                        d="m 437.79116,480.37981 7.8516,0"
                                                        id="path4077"
                                                        />
                                                    <path
                                                        
                                                        id="path4079"
                                                        d="m 488.125,473.86218 0,18.375"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4081"
                                                        d="m 455.75,475.11218 6.625,17.5 6.625,-17.5"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4083"
                                                        d="m 472.87766,481.46184 1.63519,-0.66291 0.92807,-0.44194 1.50261,-0.22097 1.41421,0.13258 1.06066,0.30936 1.01646,0.70711 0.39775,0.88388 0.53033,1.45841 0.0442,1.5026 0.0442,2.03293 0,5.48008 0,-3.57973 -1.19324,1.5026 -1.94455,1.5468 -1.59099,0.26516 -1.23743,0 -1.14905,-0.44194 -0.61872,-0.66291 -0.44194,-0.79549 -0.22097,-1.37002 0.35355,-1.23744 1.01647,-0.88388 1.32582,-0.61872 0.88389,-0.0884 1.32582,-0.22097 1.90035,0 1.63518,-0.0442"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4085"
                                                        d="m 494.577,479.69408 0,9.67852 0.53033,1.37002 1.01647,0.88388 1.19324,0.7955 1.32582,0.17678 1.23744,-0.39775 1.01647,-0.61872 0.97227,-0.70711 0.48614,-0.66291 0.53033,-0.39775 0.79549,-0.7071 0,-9.36917 0,12.86051"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none" />
                                                    <path
                                                        
                                                        id="path4087"
                                                        d="m 400.5,501.86218 137,0"
                                                        style="fill:none;stroke:#4682B4;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
                                                    <path
                                                        transform="matrix(0.36104808,0,0,0.36104808,354.89519,339.65546)"
                                                        d="m 507.5,399.61218 c 0,1.79493 -1.45507,3.25 -3.25,3.25 -1.79493,0 -3.25,-1.45507 -3.25,-3.25 0,-1.79492 1.45507,-3.25 3.25,-3.25 1.79493,0 3.25,1.45508 3.25,3.25 z"
                                                        id="path4089"
                                                        style="color:#4682B4;fill:#4682B4;fill-opacity:1;fill-rule:nonzero;stroke:#191a0d;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker:none;visibility:visible;display:inline;overflow:visible"
                                                        />
                                                    <path
                                                        style="color:#4682B4;fill:#4682B4;fill-opacity:1;fill-rule:nonzero;stroke:#191a0d;stroke-width:1.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0;marker:none;visibility:visible;display:inline;overflow:visible"
                                                        id="path4093"
                                                        d="m 507.5,399.61218 c 0,1.79493 -1.45507,3.25 -3.25,3.25 -1.79493,0 -3.25,-1.45507 -3.25,-3.25 0,-1.79492 1.45507,-3.25 3.25,-3.25 1.79493,0 3.25,1.45508 3.25,3.25 z"
                                                        transform="matrix(0.36104808,0,0,0.36104808,354.89519,347.08008)" />
                                                </g>
                                                <text transform="translate(147.35602,-335.669908)"
                                                    style="font-size:24px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                                    x="323.11981"
                                                    y="455.43146"
                                                    id="text4095"><tspan
                                                        
                                                        id="x2"
                                                        x="323.11981"
                                                        y="455.43146">1000.20</tspan><tspan
                                                        
                                                        id="tspan4101"
                                                        x="323.11981"
                                                        y="485.43146" /></text>
                                                <text  transform="translate(147.35602,-335.669908)"
                                                    
                                                    id="text4103"
                                                    y="493.26166"
                                                    x="323.11981"
                                                    style="font-size:24px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                                    ><tspan
                                                        
                                                        id="x3"
                                                        x="323.11981"
                                                        y="493.26166">1000.20</tspan><tspan
                                                        
                                                        id="tspan4123"
                                                        x="323.11981"
                                                        y="523.26166" /></text>
                                                <text  transform="translate(147.35602,-335.669908)"
                                                    
                                                    style="font-size:24px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                                    x="323.11981"
                                                    y="531.44543"
                                                    id="text4125"
                                                    ><tspan
                                                        y="531.44543"
                                                        x="323.11981"
                                                        id="x5"
                                                        >1000.20</tspan><tspan
                                                        y="561.44543"
                                                        x="323.11981"
                                                        id="tspan4129"
                                                        /></text>
                                                <text  transform="translate(147.35602,-335.669908)"
                                                    
                                                    id="text4131"
                                                    y="569.62921"
                                                    x="323.11981"
                                                    style="font-size:24px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;text-align:end;line-height:125%;letter-spacing:0px;word-spacing:0px;text-anchor:start;fill:#4682B4;fill-opacity:1;stroke:none;font-family:Sans;"
                                                    ><tspan
                                                        
                                                        id="x10"
                                                        x="323.11981"
                                                        y="569.62921">1000.20</tspan><tspan
                                                        
                                                        id="tspan4135"
                                                        x="323.11981"
                                                        y="599.62921" /></text>
                                                </g>  
                                            <g
                                                    
                                                    id="layer3"
                                                    
                                                    transform="translate(0,-452.36215)">
                                                <path
                                                    
                                                    id="letterM"
                                                    d="m 563.78551,1040.1384 0,-16.5278 4.68096,4.6809 5.14326,-5.1432 0,16.6433"
                                                    style="fill:none;stroke:#4682B4;stroke-width:1.89605892;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none;display:inline" />
                                                <g
                                                    id="lettert">
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none;display:inline"
                                                        d="m 37.77552,450.24278 0,21.78773 0.26516,1.06066 0.39775,0.83969 0.66291,0.57452 0.48614,0.35355 0.57452,0.17678 1.14905,0.0884 0.97227,-0.0884 0.61872,0.0442 0.48614,-0.0884"
                                                        id="path4462-2"
                                                        />
                                                    <path
                                                        style="fill:none;stroke:#4682B4;stroke-width:2.79999995;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;stroke-dasharray:none;display:inline"
                                                        d="m 33.84224,457.44643 9.28077,0"
                                                        id="path4464-4"
                                                        />
                                                </g>
                                                </g>
                                
                                                <g id="layer4">
                                                <g
                                                    
                                                    id="g3240"
                                                    transform="translate(120.84937,336.40605)">
                                                    <text
                                                        id="Curveselect"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >Please Select Curve</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3240"
                                                    transform="translate(120.84937,336.40605)">
                                                    <text
                                                        id="IEEEVI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >IEEE Very Inverse</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3270"
                                                    transform="translate(120.84937,338.58898)">
                                                    <text
                                                        id="IEEEEI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >IEEE Extremely Inverse</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3298"
                                                    transform="translate(120.84937,337.56253)">
                                                    <text
                                                        id="IEEEMI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >IEEE Moderate Inverse</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3322"
                                                    transform="translate(120.84937,336.43269)">
                                                    <text
                                                        id="IECVI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >IEC Very Inverse</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3352"
                                                    transform="translate(120.84937,338.61562)">
                                                    <text
                                                        id="IECEI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >IEC Extremely Inverse</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3380"
                                                    transform="translate(120.84937,337.56253)">
                                                    <text
                                                        id="IECMI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >IEC Moderate Inverse</text>
                                                </g>
                                
                                                <g
                                                    
                                                    id="g3462"
                                                    transform="translate(120.84937,337.36001)">
                                                    <text
                                                        id="USI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >US Inverse</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3492"
                                                    transform="translate(120.84937,339.75612)">
                                                    <text
                                                        id="USSTI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >US Short Time Inverse</text>
                                                </g>
                                                    <g
                                                    
                                                    id="g3404"
                                                    transform="translate(120.84937,336.47533)">
                                                    <text
                                                        id="UKLTI"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >UK Long Time Inverse</text>
                                                </g>
                                                <g
                                                    
                                                    id="g3434"
                                                    transform="translate(120.84937,339.77477)">
                                                    <text
                                                        id="UKR"
                                                        style="font-size:35.91465187px;font-style:normal;font-weight:normal;text-align:start;text-anchor:start;fill:#4682B4;font-family:Calibri;display:none"
                                                        y="-280.763122"
                                                        x="115.2764344"
                                                        >UK Rectifier</text>
                                                </g>
                                                </g>
                                </svg>
                                             
                            <td width="40%" >	
                                <div id="tabs-4" tabindex="0" style="background-color:white;border-color:white;">
                                    <table style="height:14em;"> 
                                        <tr>
                                            <td>
                                                <ul style="background-color:white;border-color:white;">
                                                <li id="li_IEEE" value="0" onclick="setValueIEEE()" style="list-style-type: none;"><a href="#IEEE" >IEEE</a></li>
                                                <li id="li_US" value="0" onclick="setValueUS()" style="list-style-type: none;"><a href="#US" >US</a></li>
                                                <li id="li_IEC" value="0" onclick="setValueIEC()" style="list-style-type: none;"><a href="#IEC" >IEC</a></li>
                                                <li id="li_UK" value="0" onclick="setValueUK()" style="list-style-type: none;"><a href="#UK" >UK</a></li></ul>
                                            </td>
                                            <td>
                                                <div id="IEEE" style="margin-left: 1em;">
                                                    <ul id="ulIEEE" style="background-color:white;border-color:white;">
                                                        <li id="li_IEEE_VI" value="0" onclick="setValueIEEE_VI()" style="list-style-type: none;"><a href="#">IEEE EI</a></li>
                                                        <li id="li_IEEE_EI" value="0" onclick="setValueIEEE_EI()" style="list-style-type: none;"><a href="#">IEEE VI</a></li>
                                                        <li id="li_IEEE_MI" value="0" onclick="setValueIEEE_MI()" style="list-style-type: none;"><a href="#">IEEE MI</a></li>
                                                    </ul>
                                                </div>
                                                <div id="US" style="margin-left: 1em;margin-top: 1.75em;">
                                                    <ul  style="background-color:white;border-color:white;">
                                                        <li id="li_US_I" value="0" onclick="setValueUS_I()" style="list-style-type: none;"><a href="#">US I</a></li>
                                                        <li id="li_US_STI" value="0" onclick="setValueUS_STI()" style="list-style-type: none;"><a href="#">US STI</a></li>
                                                    </ul>
                                                </div>
                                                <div id="IEC" style="margin-left: 1em;margin-top: 3.25em;">
                                                    <ul  style="background-color:white;border-color:white;">
                                                        <li id="li_IEC_MI" value="0" onclick="setValueIEC_MI()" style="list-style-type: none;"><a href="#">IEC MI</a></li>
                                                        <li id="li_IEC_VI" value="0" onclick="setValueIEC_VI()" style="list-style-type: none;"><a href="#">IEC VI</a></li>
                                                        <li id="li_IEC_EI" value="0" onclick="setValueIEC_EI()" style="list-style-type: none;"><a href="#">IEC EI</a></li>
                                                    </ul>   
                                                </div>					
                                                <div id="UK" style="margin-left: 1em;margin-top: 4.75em;">
                                                    <ul style="background-color:white;border-color:white;">
                                                        <li id="li_UK_LTI" value="0" onclick="setValueUK_LTI()" style="list-style-type: none;"><a href="#">UK LTI</a></li>
                                                        <li id="li_UK_R" value="0" onclick="setValueUK_R()" style="list-style-type: none;"><a href="#">UK R</a></li>
                                                    </ul>  
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>                                                
                                                <div >				
                                                    <form oninput="x.value = parseInt(TDial.value)"  class="form12_4" style="display:none" >
                                                        <label >TD= </label>
                                                    <input type="range" name="slider" id="TDial" value="1.0" min="0.1" max="100" step="0.1" > </input>
                                                    <output id="TDout" name="x" for="TDial" > 1.0 </output> 
                                                    </form>
                                                    <form oninput="x.value = parseInt(TTMS.value)"  class="form13_4" style="display:none">
                                                        <label>TMS= </label>
                                                    <input type="range" name="slider" id="TTMS" value="0.1" min="0.01" max="1.5" step="0.01" > </input>
                                                    <output id="TMSout" name="x" for="TTMS" > 0.1 </output> 
                                                    </form>    
                                                </div>	
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </td>		
                        </tr>
                    </table>
                </div>                
            </div>
        </section>
        <section id="tools2"></section>
        <section id="tools3"></section>
        <section id="blog">
            <div class="container" style="width:70%">
                <h2>Blog</h2>
                <p>Latest blog posts...</p>
                <!-- Add more content as needed -->
            </div>
        </section>


        <section id="YouTube">
            <div class="container">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/qKMqpc3_wRw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                <p></p>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/FFpwSxec-pA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
        </section>

        <section id="contact">
            <div class="container" style="width:70%">
                <h2>Contact</h2>
                <p>Interested in working with Cesar Tech Services? Let us discuss your web development, engineering solutions needs. Get in touch using the contact information below, or connect with LinkedIn.</p>
                <address>
                    <strong>Location:</strong> Portugal<br>
                    <strong>Phone:</strong> +351 967 xxx xxx<br>
                    <strong>Email:</strong> <a href="mailto:photoxxx@gmail.com">cesartechoxxx@gmail.com</a><br>
                    <strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/cesar-augusto-rosa-delgado-6a533b6" target="_blank">linkedin.com/in/cesar-augusto-rosa-delgado-6a533b6</a>
                </address>
                <div id="visitCount"></div>
            </div>
        </section>
        <script>


            var font_size = 24; // set the font size
            var spacing = font_size * 0.05; // calculate the spacing as 5% of the font size

            var durationSlide = 10000;
                // Set up carousel
                const slideWidth = 300;
                const carousel = d3.select("#carousel");
                const slides = carousel.selectAll(".slide");
                const numSlides = slides.size();

                // Set initial active slide
                let activeSlide = 0;

                // Advance to next slide every 3 seconds
                if (activeSlide === 0) {
                let autoAdvance = setInterval(() => {
                    activeSlide = (activeSlide + 1) % numSlides;
                    updateSlide();
                }, durationSlide);
                }
                else {
                    durationSlide=5000;console.log("in");
                let autoAdvance = setInterval(() => {
                    activeSlide = (activeSlide + 1) % numSlides;
                    updateSlide();
                }, durationSlide);
                }
                
                // Update slide based on activeSlide
                function updateSlide() {
                    // Compute the new active slide
                    const newActiveSlide = (activeSlide + 1) % numSlides;

                    // If the current slide is the first slide, skip it
                    if (activeSlide === 0) {
                        activeSlide = 1;
                    }
                    // Set the new active slide
                    slides.classed("active", (_, i) => i === activeSlide);
                    // Compute the position of the new active slide
                    const newSlidePosition = -activeSlide * slideWidth;

                    // Animate the carousel to the new position
                    carousel
                        .transition()
                        .duration(500)
                        .ease(d3.easeQuadInOut)
                        .style("transform", `translateX(${newSlidePosition}px)`);
                    }

                    const element = document.querySelector('a[href="#home"]');
                    const rect = element.getBoundingClientRect();
                    const x = rect.left;

                    // Get a reference to the div element
                    const divElements = document.getElementsByClassName("container");

                    for (let i = 1; i < divElements.length; i++) {
                        divElements[i].style.marginLeft = x + "px";
                        }



                    document.addEventListener("DOMContentLoaded", function() {
                    // Hide all sections except Home on page load
                    const sections = document.querySelectorAll("section:not(#home)");
                    sections.forEach(function(section) {
                        section.style.display = "none";
                    });

                    // Show the corresponding section when a navigation link is clicked
                    const links = document.querySelectorAll("nav a");
                    links.forEach(function(link) {
                        link.addEventListener("click", function(e) {
                        e.preventDefault();
                        const targetSection = link.getAttribute("href");
                        const sections = document.querySelectorAll("section");
                        sections.forEach(function(section) {
                            section.style.display = "none";
                        });
                        document.querySelector(targetSection).style.display = "block";
                        });
                    });
                    });        

                    // JavaScript code to handle the submenu visibility
                    const dropdownItem = document.querySelector('.dropdown');
                    const submenu = dropdownItem.querySelector('.submenu');

                    dropdownItem.addEventListener('click', function(event) {
                        event.preventDefault();
                        submenu.classList.toggle('show');
                    });

                    document.addEventListener('click', function(event) {
                        const targetElement = event.target;
                        if (!targetElement.closest('.dropdown')) {
                            submenu.classList.remove('show');
                        }
                    });

                    //--------- Intro first slide
                    var svgTitle = d3.select("#svgTitle").append("svg")
                        .attr("width", "100%")
                        .attr("height", "100%")
                        .attr("id", "svgTitleText")
                        .style("display","block"); 

                    var textElement1 = svgTitle.append("text")
                        .attr("font-size", "20px")       
                        .attr("x", "50%")
                        .attr("y", "50%")
                        .attr("id", "svgTitleTextContent1")
                        .attr("text-anchor", "middle")
                        .attr("stroke", "steelBlue");
                    var textElement2 = svgTitle.append("text")
                        .attr("font-size", "20px")       
                        .attr("x", "50%")
                        .attr("y", "75%")
                        .attr("id", "svgTitleTextContent2")
                        .attr("text-anchor", "middle")
                        .attr("stroke", "steelBlue")
                        .style("opacity", 0);

                    textElement1.append("tspan")
                        .text("The Ultimate Guide to Relay Protection Engineering:");

                    textElement1.append("tspan")
                        .text(" Unlock the Secrets with Visual Tools")
                        .attr("x", "50%")
                        .attr("dy", "1.5em");

                    textElement1.append("tspan")
                        .text(" for Students and Seasoned Engineers")
                        .attr("x", "50%")
                        .attr("dy", "1.5em");
                        
                    textElement1.transition()
                        .duration(3500)
                        .attr("font-size", "30px");  

                    textElement2.append("tspan")
                        .text("Visualize. Interact. Empower. Unleash the Power of Protection Relay Engineering!")
                        .attr("x", "50%")
                        .attr("dy", "0em");

                    textElement1.transition()
                        .delay(4000)
                        .duration(1000) // Duration of the transition in milliseconds
                        .style("opacity", 0) // Set opacity to 0 to create the dissolve effect

                    textElement2.transition()
                        .delay(4500)
                        .duration(1500)
                        .attr("font-size", "30px")
                        .attr("y", "50%")
                        .style("opacity", 1);
        
            let widthbbox = 1300;
            let heightbbox = 300;

                (function() {
            var wstring = "100%", hstring = "100%", p = 50;      
        
            var vis = d3.select("#vis").append("svg")
                .attr("width", wstring)
                .attr("height", hstring)
                .attr("id", "vis_svg")
                .style("display","block");          

            setTimeout(function() {
                const svg_vis = d3.select('#vis');
                const rect = svg_vis.node().getBoundingClientRect();
                widthbbox = rect.width;
                heightbbox = rect.height;
            }, durationSlide+500);

            var w = widthbbox, h = heightbbox;
            var wbis=w,hbis=h,tx=w/4,ty=hbis/2,
                textx=tx-160,texty=ty-18;  

            ta=86,tb=ta+40,tc=tb+40,td=30,tdd=td+55;
                
            var mag = 50, p0x =w/2, p0y =h;
            var va = [p0x+mag, p0y],
                vb = [p0x-mag/2, p0y + (mag * Math.sqrt(3)/ 2)],
                vc = [p0x-mag/2, p0y - (mag * Math.sqrt(3)/ 2)],
                p0 = [p0x,p0y],
                psa = [va],
                psb = [vb],
                psc = [vc];
                
        
            var dist = function(va) {
            var x = va[0] - p0x;
            var y = va[1] - p0y;
            return Math.sqrt(x * x + y * y);
            };
            var angle = function(va) {
            
            return Math.atan2(va[1],va[0]) *180/Math.PI;
            };
            
            var polyline = function(d) {
                return d.map(function(x) {
                    return x.join(",");
                }).join(" ");
                };
        
                //-------------------------------
                var slide2Text = d3.select("#slide2Text");

                    slide2Text.append("h2")
                        .style("text-align", "center")
                        .style("margin-bottom",0+"px")
                        .text("A visualization-based approach to understanding protection relay fundamentals, operations, and testing!");

                var tabs_2Text = d3.select("#tabs-2Text"); 
                // Append a <p> element
                const paragraph_tabs_2Text = tabs_2Text.append("h2");
                // Apply attributes and styles to the <p> element
                    paragraph_tabs_2Text
                    .text("Exploring Waveform Parameters and COMTRADE Files: A User's Guide") // Set the text content of the <p> element
                    .style("color", "steelBlue") // Set the color style
                    .style("text-align", "center")
                    .style("margin-bottom",0+"px");

                
                
                vis.append("vis:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("vis:marker")
                   .attr("id", "marka")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 4)
                    .attr("markerHeight", 5)
                    .attr("orient", "auto")
                    .append("vis:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z");
                
                vis.append("vis:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("vis:marker")
                    .attr("id", "markb")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 4)
                    .attr("markerHeight", 5)
                    .attr("orient", "auto")
                    .append("vis:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z");
                
                vis.append("vis:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("vis:marker")
                    .attr("id", "markc")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 4)
                    .attr("markerHeight", 5)
                    .attr("orient", "auto")
                    .append("vis:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z");
                
                vis.append("vis:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("vis:marker")
                    .attr("id", "mark2")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 4)
                    .attr("markerHeight", 5)
                    .attr("orient", "auto")
                    .append("vis:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z");
                
                vis.append("vis:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("vis:marker")
                    .attr("id", "mark1")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 4)
                    .attr("markerHeight", 5)
                    .attr("orient", "auto")
                    .append("vis:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z");       
                
                vis.append("vis:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("vis:marker")
                    .attr("id", "mark0")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 4)
                    .attr("markerHeight", 5)
                    .attr("orient", "auto")
                    .append("vis:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z");     
                
                //-----------START OF FUNCTION MY LOOP -----

                var i = 1;      
                function myLoop () {         
                    setTimeout(function () {    
                            var update = function() {
                                dim1=widthbbox/2.5-(5*Math.cos((parseInt(i-1)*Math.PI/100)));
                                dim2=heightbbox/2.5-(4*Math.sin((1.5*parseInt(i-1)*Math.PI/100)));
                            psa = [va];  
                                psb = [vb];
                                psc = [vc];
                            
                                va=[p0x+dim1/2*Math.cos((parseInt(i-1)*Math.PI/100)),p0y+dim2/2*Math.sin((parseInt(i-1)*Math.PI/100))];
                                vb=[p0x-dim1/2*Math.cos((parseInt(i-1)*Math.PI/400)),p0y+dim1/2* (Math.sqrt(3)/ 2)*Math.sin((parseInt(i-1)*Math.PI/400))];
                                vc=[p0x-dim2/2*Math.cos((parseInt(i-1)*Math.PI/200)),p0y-dim2/2* (Math.sqrt(3)/ 2)*Math.sin((parseInt(i-1)*Math.PI/200))];
                                
                            var veca = [va[0]-p0x, va[1]-p0y],
                                vecb = [vb[0]-p0x, vb[1]-p0y],
                                vecc = [vc[0]-p0x, vc[1]-p0y];
                        
                                var ampa = dist(va),
                                ampb = dist(vb),
                                ampc = dist(vc),
                                anglea = angle (veca),
                                angleb = angle(vecb),
                                anglec = angle(vecc);
                        
                            var va2 = [(veca[0]- (vecb[0]+vecc[0])/2 - (Math.sqrt(3)/ 2)*(vecb[1]-vecc[1]))/3, (veca[1]- ((vecb[1]+vecc[1])/2) + (Math.sqrt(3)/ 2)*(vecb[0]-vecc[0]))/3],
                                vb2 = [(-va2[0]+va2[1]* Math.sqrt(3))/2,(-va2[1]-va2[0]* Math.sqrt(3))/2 ],
                                vc2 = [(-va2[0]-va2[1]* Math.sqrt(3))/2,(-va2[1]+va2[0]* Math.sqrt(3))/2],
                                p0 = [p0x,p0y],
                                va2bis=[va2[0]+p0x/2,va2[1]+p0y/2],
                                vb2bis=[vb2[0]+p0x/2,vb2[1]+p0y/2],
                                vc2bis=[vc2[0]+p0x/2,vc2[1]+p0y/2],
                                ps2bis=[va2, vb2, vc2], ps2ter=[va2[0]+p0x,va2[1]+p0y ], amp2 = dist(ps2ter),angle2 = angle(va2),
                                va2= [va2[0]+p0x,va2[1]+p0y],
                                vb2= [vb2[0]+p0x,vb2[1]+p0y],
                                vc2= [vc2[0]+p0x,vc2[1]+p0y],
                                ps2 = [va2, vb2, vc2];      
                                    
                            data = [ [p0[0], p0[1]],[p0[0], p0[1]],[p0[0], p0[1]] ];
                            data3 = [ [0, 0],[0, 0],[0, 0] ];
                        
                        
                        
                            var va1 = [((veca[0]- (vecb[0]+vecc[0])/2 + (Math.sqrt(3)/ 2)*(vecb[1]-vecc[1]))/3),( (veca[1]- (vecb[1]+vecc[1])/2 - Math.sqrt(3)/ 2*(vecb[0]-vecc[0]))/3)],
                                vb1 = [(-va1[0]-(va1[1]* Math.sqrt(3)))/2,(-va1[1]+va1[0]* Math.sqrt(3))/2 ],
                                vc1 = [(-va1[0]+va1[1]* Math.sqrt(3))/2,(-va1[1]-va1[0]* Math.sqrt(3))/2],
                                p0 = [p0x,p0y],
                                va1bis=[va1[0],va1[1]],
                                vb1bis=[vb1[0],vb1[1]],
                                vc1bis=[vc1[0],vc1[1]],
                                ps1bis=[va1, vb1, vc1], ps1ter=[va1[0]+p0x,va1[1]+p0y ], amp1 = dist(ps1ter),  angle1 = angle(va1) , 
                                
                                va1= [va1[0]+va2[0],va1[1]+va2[1]],
                                vb1= [vb1[0]+vb2[0],vb1[1]+vb2[1]],
                                vc1= [vc1[0]+vc2[0],vc1[1]+vc2[1]],
                                ps1 = [va1, vb1, vc1];   
                            data1 = [[va2[0] , va2[1]],[vb2[0] , vb2[1] ],[vc2[0] , vc2[1] ]];
                            
                        
                            var va0 = [(veca[0]+ vecb[0]+vecc[0])/3, (veca[1]+ vecb[1]+vecc[1])/3],
                                vb0 = [(veca[0]+ vecb[0]+vecc[0])/3,(veca[1]+ vecb[1]+vecc[1])/3 ],
                                vc0 = [(veca[0]+ vecb[0]+vecc[0])/3,(veca[1]+ vecb[1]+vecc[1])/3],
                                p0 = [p0x,p0y],               
                                ps0bis=[va0, vb0, vc0],  angle0 = angle (va0), ps0ter=[va0[0]+p0x,va0[1]+p0y ],               
                                va0= [va0[0]+va1bis[0]+va2[0],va0[1]+va1bis[1]+va2[1]],amp0 = dist(ps0ter),
                                vb0= [vb0[0]+vb1bis[0]+vb2[0],vb0[1]+vb1bis[1]+vb2[1]],
                                vc0= [vc0[0]+vc1bis[0]+vc2[0],vc0[1]+vc1bis[1]+vc2[1]],
                                ps0 = [va0, vb0, vc0];  
                        
                            data2 = [[va1bis[0]+va2[0] , va1bis[1]+va2[1]],[vb1bis[0]+vb2[0], vb1bis[1]+vb2[1] ],[vc1bis[0]+vc2[0] , vc1bis[1]+vc2[1] ]];
                        
                        
                        
                            var vectora = vis.selectAll("polyline.vectora")
                                .data(psa);
                        
                            vectora.enter().append("polyline")
                                .attr("class", "vectora")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                    });
                        
                            vectora
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                });
                        //------------------Marker A--------
                        
                            var vectora = vis.selectAll("polyline.vectora")
                                .data(psa);
                            vectora.enter().append("polyline")
                                .attr("class", "vectora")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                    })
                                .append("marker")
                                .attr("marker-end", "url(#marka)")
                                ;
                        
                            vectora
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                            
                                })
                                .attr("marker-end", "url(#marka)")
                        ;  
                        //----------------------------------------
                        
                        //------------------Text A--------
                        
                        var texta = vis.selectAll("text.texta")
                                                .data(psa);
                        
                                        texta.enter()
                                                .append("text")
                                                .attr("class", "texta")
                                                .attr("x", function(d, i) {return (d.x);})
                                                .attr("y", function (d,i) {return (d.y);})
                                        .text( "Va = " + veca[0].toFixed(0) + " +j " +veca[1].toFixed(0));
                                
                        texta
                                        .attr("x", function (d,i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})
                                        .text("Va = " + veca[0].toFixed(0) + " +j " +veca[1].toFixed(0) )
                                        .attr("font-family", "sans-serif")
                                        .attr("font-size", "40px")
                                        .attr("transform", "translate(" 
                                        + (va[0]-(100) ) + "," 
                                        + (va[1]-(20) )  + ")")
                                        .attr("fill", "#DC143C");
                        
                        //----------------------------------------
                        
                            var vectorb = vis.selectAll("polyline.vectorb")
                                .data(psb);
                                vectorb.enter().append("polyline")
                                .attr("class", "vectorb")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                });
                                
                                vectorb
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                });
                        
                        //-----------------------Marker B---
                        
                            var vectorb = vis.selectAll("polyline.vectorb")
                                .data(psb);
                            vectorb.enter().append("polyline")
                                .attr("class", "vectorb")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                    })
                                .append("marker")
                                .attr("marker-end", "url(#markb)")
                                ;
                        
                            vectorb
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                            
                                })
                                .attr("marker-end", "url(#markb)")
                        ;  
                        //----------------------------------------
                        
                        //------------------Text B--------
                        
                        
                        var textb = vis.selectAll("text.textb")
                                                .data(psb);
                                            textb.enter()
                                                .append("text")
                                                .attr("class", "textb")
                                                .attr("x", function(d, i) {return (d.x);})
                                                .attr("y", function (d,i) {return (d.y);})
                                        .text( "Vb = " + vecb[0].toFixed(0) + " +j " +vecb[1].toFixed(0));
                        
                        textb
                                        .attr("x", function (d,i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})
                                        .text("Vb = " + vecb[0].toFixed(0) + " +j " +vecb[1].toFixed(0) )
                                        .attr("font-family", "sans-serif")
                                        .attr("font-size", "40px")
                                        .attr("transform", "translate(" 
                                        + (vb[0] -20) + "," 
                        
                                        + (vb[1] -20)  + ")")
                                        .attr("fill", "#e2de50"); 
                        //----------------------------------------
                            var vectorc = vis.selectAll("polyline.vectorc")
                                .data(psc);
                                vectorc.enter().append("polyline")
                                .attr("class", "vectorc")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                });
                        
                                vectorc
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                });        
                        
                        //--------------------Marker C------
                        
                            var vectorc = vis.selectAll("polyline.vectorc")
                                .data(psc);
                            vectorc.enter().append("polyline")
                                .attr("class", "vectorc")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                    })
                                .append("marker")
                                .attr("marker-end", "url(#markc)")
                                ;
                        
                            vectorc
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                            
                                })
                                .attr("marker-end", "url(#markc)")
                        ;  
                        //----------------------------------------
                        
                        //------------------Text C--------
                        
                        var textc = vis.selectAll("text.textc")
                                                .data(psc);             
                                            textc.enter()
                                                .append("text")
                                                .attr("class","textc")
                                                .attr("x", function(d, i) {return (d.x);})
                                                .attr("y", function (d,i) {return (d.y);})
                                        .text( "Vc = " + vecc[0].toFixed(0) + " +j " +vecc[1].toFixed(0));
                        
                        
                        
                        textc
                                        .attr("x", function (d,i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})
                                        .text("Vc = " + vecc[0].toFixed(0) + " +j " +vecc[1].toFixed(0) )
                                        .attr("font-family", "sans-serif")
                                        .attr("font-size", "40px")
                                        .attr("transform", "translate(" 
                                        + (vc[0]-20 ) + "," 
                                        + (vc[1]-20 )  + ")")
                                        .attr("fill", "blue")
                                        .attr("background-color","white");
                        
                        //----------------------------------------
                        
                            var vector2 = vis.selectAll("polyline.vector2")
                                .data(ps2);
                            vector2.enter().append("polyline")
                                .attr("class", "vector2")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                            });
                                
                            vector2
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                            });
                        
                        
                        //--------------------------
                        
                            var vector2 = vis.selectAll("polyline.vector2")
                                .data(ps2);
                            vector2.enter().append("polyline")
                                .attr("class", "vector2")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                                    })
                                .append("marker")
                                .attr("marker-end", "url(#mark2)")
                                ;
                        
                            vector2
                                .attr("points", function(d, i) {
                                    return polyline([data[(i + 1) % 3],d]);
                            
                                })
                                .attr("marker-end", "url(#mark2)")
                        ;  
                        
                        //----------------------------------------    
                            var vector1 = vis.selectAll("polyline.vector1")
                                .data(ps1);
                            vector1.enter().append("polyline")
                                .attr("class", "vector1")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i ) % 3],d]);
                            });
                                
                            vector1
                                .attr("points", function(d, i) {
                                    return polyline([data1[(i ) % 3],d]);
                            });
                        
                        //--------------------------
                        
                            var vector1 = vis.selectAll("polyline.vector1")
                                .data(ps1);
                            vector1.enter().append("polyline")
                                .attr("class", "vector1")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i ) % 3],d]);
                                    })
                                .append("marker")
                                .attr("marker-end", "url(#mark1)")
                                ;
                        
                            vector1
                                .attr("points", function(d, i) {
                                    return polyline([data1[(i ) % 3],d]);
                            
                                })
                                .attr("marker-end", "url(#mark1)")
                        ;  
                        //----------------------------------------
                        
                            var vector0 = vis.selectAll("polyline.vector0")
                                .data(ps0);
                            vector0.enter().append("polyline")
                                .attr("class", "vector0")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i ) % 3],d]);
                            });
                                
                            vector0
                                .attr("points", function(d, i) {
                                    return polyline([data2[(i ) % 3],d]);
                            });
                            
                        //--------------------------
                        
                            var vector0 = vis.selectAll("polyline.vector0")
                                .data(ps0);
                            vector0.enter().append("polyline")
                                .attr("class", "vector0")
                                .attr("points", function(d, i) {
                                    return polyline([data[(i ) % 3],d]);
                                    })
                                .append("marker")
                                .attr("marker-end", "url(#mark0)")
                                ;
                        
                            vector0
                                .attr("points", function(d, i) {
                                    return polyline([data2[(i ) % 3],d]);
                            
                                })
                                .attr("marker-end", "url(#mark0)");  
                            };
                    
                        update();i++;  
                                            //  increment the counter
                                if (i < 2500) {            //  if the counter < 10, call the loop function
                                if (i===2499) {i=1;} ;
                                myLoop();             //  ..  again which will trigger another 
                                }                        //  ..  setTimeout()
                        
                        }, 45);
                    }
                    
                    //-----------END OF FUNCTION MY LOOP -----
                        
                        myLoop();
                        vis
                                .attr("width", "100%");
                
                })();

                //--------------------------- waveform 
                // Constants for width, height, and padding
                const wWaveform = 2*widthbbox/3;
                const hWaveform = 2*heightbbox/3;
                const padding = 20;

                // Additional variables
                const numsample = 300;
                let duration = 0;

                // Scaling for x-axis and y-axis
                var xScale = d3.scale.linear()
                    .domain([0.0001, numsample])
                    .range([2 * padding, wWaveform - padding]);

                // Setting up x-axis and y-axis
                var xAxis = d3.svg.axis()
                    .scale(xScale)
                    .orient("bottom")
                    .ticks(5);

                // Calculation for i_mul
                MAX_ = 110;

                let i_mul = (Math.sqrt(2) * MAX_) / 17.67;

                var MAX_yScale = 0;
                var MAX_yScaleRight = 0;
                var temp=0;
                    
                var dataset = generateDataset(numsample, i_mul, 0, true);
                var dataset4 = generateDataset(numsample, i_mul, 0,  false);

                const yValues1 = dataset.map(item => item[1]);
                const yValues2 = dataset4.map(item => item[1]);
                const maxAbsValue1 = Math.max(
                ...yValues1.map(value => Math.abs(value))
                );
                const maxAbsValue2 = Math.max(
                ...yValues2.map(value => Math.abs(value))
                );

                MAX_yScale=maxAbsValue1;
                MAX_yScaleRight =maxAbsValue2;

                var dataset2 = generateDataset(numsample, i_mul, -2*Math.PI/3, true);
                var dataset3 = generateDataset(numsample, i_mul, 2*Math.PI/3, true);
                var dataset5 = generateDataset(numsample, i_mul, -2*Math.PI/3, false);
                var dataset6 = generateDataset(numsample, i_mul, 2*Math.PI/3,  false);

                var yScale = d3.scale.linear()
                    .domain([-MAX_yScale, MAX_yScale])
                    .range([hWaveform - padding / 2, padding]);

                var yAxis = d3.svg.axis()
                    .scale(yScale)
                    .orient("left")
                    .ticks(5);

                var yScaleRight = d3.scale.linear()
                    .domain([-MAX_yScaleRight, MAX_yScaleRight])
                    .range([hWaveform - padding / 2, padding]);

                var yAxisRight = d3.svg.axis()
                    .scale(yScaleRight)
                    .orient("right")
                    .ticks(5);	

                // Creating the SVG container
                var svgB = d3.select("#viz")
                    .append("svg")
                    .attr("width", wWaveform )
                    .attr("height", 3 * hWaveform)
                    .attr("margin-top",8 + "px")
                    .attr("id", "viz_coordinates");



                var line1 = generateLine(dataset, "myline", "red", 0);
                var lineFunc = line1.lineFunc;

                var line2 = generateLine(dataset2, "myline2", "yellow", hWaveform);
                var lineFunc2 = line2.lineFunc;

                var line3 = generateLine(dataset3, "myline3", "blue", 2*hWaveform);
                var lineFunc3 = line3.lineFunc;

                var line4 = generateLine(dataset4, "myline4", "red", 0, yScaleRight);
                var lineFunc4 = line4.lineFunc;

                var line5 = generateLine(dataset5, "myline5", "yellow", hWaveform, yScaleRight);

                var line6 = generateLine(dataset6, "myline6", "blue", 2*hWaveform, yScaleRight);

                // Adding axis to the SVG
                addAxis("x-1", "y-1", 0, padding / 3 + hWaveform / 2, padding * 2, 0);
                addAxis("x-2", "y-2", 0, padding / 3 + hWaveform + hWaveform / 2, padding * 2, hWaveform);
                addAxis("x-3", "y-3", 0, padding / 3 + 2 * hWaveform + hWaveform / 2, padding * 2, 2 * hWaveform);

               var body = d3.selectAll("#viz_coordinates").on("mousemove", function() { move(d3.mouse(this)); });


                 var p0 = [0.0001 + 2 * padding, hWaveform * .001],p1 = [ wWaveform - padding, hWaveform * .001];

//                  setTimeout(function(){

 
//                     for (let iMove = 0; iMove < 300 ; iMove++) {
//                     (function(i) {
//                         setTimeout(function() {
//                             move([3 * padding + i, hWaveform * .5]);
//                         }, i * 100);
//                             //if (i===599) {i=0}
//                     })(iMove);
//                 }
                    
// /*                 for (let iMove = 0; iMove < numsample * 2; iMove++) {
//                     setTimeout(move([3 * padding + iMove, hWaveform * .5]), 750);
//                 } */

//                  },durationSlide*2+500);

const targetElement = document.querySelector('#tabs-2');
// Create a new MutationObserver
const observer = new MutationObserver((mutationsList, observer) => {
  // Loop through each mutation that was observed
  for (let mutation of mutationsList) {
    // Check if the class attribute was modified and now contains the 'active' class
    if (mutation.type === 'attributes' && mutation.attributeName === 'class' && targetElement.classList.contains('active')) {
      // Start your loop here

 //                setTimeout(function(){

 
                    for (let iMove = 0; iMove < 400 ; iMove++) {
                    (function(i) {
                        setTimeout(function() {
                            move([3 * padding + 2*i, hWaveform * .5]);
                        }, i * 35);
                            //if (i===599) {i=0}
                    })(iMove);
                }
                    
/*                 for (let iMove = 0; iMove < numsample * 2; iMove++) {
                    setTimeout(move([3 * padding + iMove, hWaveform * .5]), 750);
                } */

   //              },durationSlide*2+500);

    }
  }
});

// Start observing the target element for changes to its class attribute
observer.observe(targetElement, { attributes: true });


                var projection = body.append("path").attr("id", "line_projection").attr("transform", "translate(" + (0) + "," + 0 + ")")
                .attr("d","M502.8500061035156,825L502.8500061035156,0.275");

                var data = d3.range(0, 2 * Math.PI, .01).map(function(t) {
                return [t, Math.sin(2 * t) * Math.cos(2 * t)];
                });

                //----------- polar

                var width_polar = widthbbox/4 + 3*padding,
                    height_polar = widthbbox/4 + 3*padding,
                    min_of_dimensions = Math.min(width_polar,height_polar,Math.max(100,width_polar,height_polar)),
                    radius = MAX_yScaleRight+padding;

                var r = d3.scale.linear()
                    .domain([0, MAX_yScale])
                    .range([0, radius]);
                var rv = d3.scale.linear()
                    .domain([0, MAX_yScaleRight])
                    .range([0, radius]);

                var svgA = d3.select("#viz_polar").append("svg").attr("width", width_polar +"px").attr("height", height_polar + "px").append("g").attr("transform","translate(" + ((width_polar/2)) + "," + ((height_polar/2)) + ")");
                var gr = svgA.append("g").attr("class", "r axis").selectAll("g").data(r.ticks(5).slice(1)).enter().append("g");
                var grv = svgA.append("g").attr("class", "r axis").selectAll("g").data(rv.ticks(5).slice(1)).enter().append("g");

                gr.append("circle").attr("r", r);
                gr.append("text").attr("y", function(d) { return -r(d) - 4; }).attr("transform", "rotate(15)").style("text-anchor", "middle").text(function(d) { return d; });
                grv.append("text").attr("y", function(d) { return -rv(d) - 4; }).attr("transform", "rotate(-15)").style("text-anchor", "middle").text(function(d) { return d; });

                var ga = svgA.append("g")
                    .attr("class", "a axis")
                .selectAll("g")
                    .data(d3.range(0, 360, 30))
                .enter().append("g")

                    .attr("stroke","#777")
                    .style("stroke-dasharray",("1,4"))
                    .attr("transform", function(d) { return "rotate(" + -d + ")"; });

                ga.append("line")
                    .attr("x2", radius);

                ga.append("text")
                    .attr("x", radius + 8)
                    .attr("dy", ".35em")
                    .style("text-anchor", function(d) { return d < 270 && d > 90 ? "end" : null; })
                    .attr("transform", function(d) { return d < 270 && d > 90 ? "rotate(180 " + (radius + 6) + ",0)" : null; })
                    .attr("stroke","#777")
                    .style("stroke-dasharray","none")
                    .text(function(d) { return d + ""; });

                ta=86,tb=ta+40,tc=tb+40,td=30,tdd=td+55;

                    
                var mag = MAX_yScaleRight, magI = MAX_yScale, p0x =(0)/4, p0y =(0)/4;
                var va = [p0x+mag, p0y],
                    vb = [p0x-mag/2, p0y + (mag * Math.sqrt(3)/ 2)],
                    vc = [p0x-mag/2, p0y - (mag * Math.sqrt(3)/ 2)],
                    po = [p0x,p0y],
                    psa = [va],
                    psb = [vb],
                    psc = [vc]
                    ia = [p0x+mag, p0y],
                    ib = [p0x-mag/2, p0y + (mag * Math.sqrt(3)/ 2)],
                    ic = [p0x-mag/2, p0y - (mag * Math.sqrt(3)/ 2)],
                    po = [p0x,p0y],
                    psai = [ia],
                    psbi = [ib],
                    psci = [ic];
                function move(p2) {
                var t = pointLineSegmentParameter(p2, p0, p1),
                    x10 = p1[0] - p0[0],
                    y10 = p1[1] - p0[1],
                    p3 = [p0[0] + t * x10, p0[1] + t * y10],
                    abs = Math.abs(p3[0],p3[1])-40; 
                    var aux = ((abs/x10)*numsample);
                    var auw2=0, aux3=0, aux4=0; 
                        projection.attr("d", "M" + [p2[0], 3*hWaveform ] + "L" + p3).attr("id", "line_projection").
                        classed("intersects", ((abs/x10*numsample) > 0 && (abs/x10*numsample)< numsample));
                        if (aux < 95 && aux >0) {var newNumberX4 = -i_mul * 17.67/(17.67+100)*Math.cos(aux/5); var newNumberY4 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180)/(17.67+100) ;} 
                        if (aux < numsample && aux >95) {var newNumberX4 = -i_mul * 17.67/(17.67+100)*Math.cos(aux/5); var newNumberY4 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180)/(17.67) + i_mul * Math.sin(((aux-94)/5)+Math.PI/2)-i_mul* Math.sin(Math.PI/2) * Math.exp(-(aux-94)/50) ;}

                        if (aux < 95 && aux >0) {var newNumberX5 = -i_mul * 17.67/(17.67+100)*Math.cos(aux/5-(2*Math.PI/3)); var newNumberY5 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180-(2*Math.PI/3))/(17.67+100) ;} 
                        if (aux < numsample && aux >95) {var newNumberX5 = -i_mul * 17.67/(17.67+100)*Math.cos(aux/5-(2*Math.PI/3)); var newNumberY5 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180-(2*Math.PI/3))/(17.67) + i_mul * Math.sin(((aux-94)/5)+Math.PI/2-(2*Math.PI/3))-i_mul* Math.sin(Math.PI/2-(2*Math.PI/3)) * Math.exp(-(aux-94)/50) ;}

                        if (aux < 95 && aux >0) {var newNumberX6 = -i_mul * 17.67/(17.67+100)*Math.cos(aux/5+(2*Math.PI/3)); var newNumberY6 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180+(2*Math.PI/3))/(17.67+100) ;} 
                        if (aux < numsample && aux >95) {var newNumberX6 = -i_mul * 17.67/(17.67+100)*Math.cos(aux/5+(2*Math.PI/3)); var newNumberY6 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180+(2*Math.PI/3))/(17.67) + i_mul * Math.sin(((aux-94)/5)+Math.PI/2+(2*Math.PI/3))-i_mul* Math.sin(Math.PI/2+(2*Math.PI/3)) * Math.exp(-(aux-94)/50) ;}

                        if (aux < numsample && aux >0) {var newNumberX = -i_mul * 17.67*Math.cos(aux/5); var newNumberY = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180);}
                        if (aux < numsample && aux >0) {var newNumberX2 = -i_mul * 17.67*Math.cos(aux/5-(2*Math.PI/3)); var newNumberY2 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180-(2*Math.PI/3));}
                        if (aux < numsample && aux >0) {var newNumberX3 = -i_mul * 17.67*Math.cos(aux/5+(2*Math.PI/3)); var newNumberY3 = i_mul * 17.67 * Math.sin((aux/5)+174*Math.PI/180+(2*Math.PI/3));}

                        va = [p0x+newNumberY, p0y+newNumberX];psa=[va];
                        vb = [p0x+newNumberY2, p0y+newNumberX2];psb=[vb];
                        vc = [p0x+newNumberY3, p0y+newNumberX3];psc=[vc];
                        ia = [p0x+newNumberY4*MAX_yScaleRight/MAX_yScale, p0y+newNumberX4*MAX_yScaleRight/MAX_yScale];psai=[ia];
                        ib = [p0x+newNumberY5*MAX_yScaleRight/MAX_yScale, p0y+newNumberX5*MAX_yScaleRight/MAX_yScale];psbi=[ib];
                        ic = [p0x+newNumberY6*MAX_yScaleRight/MAX_yScale, p0y+newNumberX6*MAX_yScaleRight/MAX_yScale];psci=[ic];

                //----------------------------------------------------		
                //-------------- UPDATE ------------------------------		
                //----------------------------------------------------		
                        
                        update();
                }

                function pointLineSegmentParameter(p2, p0, p1) {
                        var	x10 = p1[0] - p0[0], 
                            y10 = p1[1] - p0[1], 
                            x20 = p2[0] - p0[0], 
                            y20 = p2[1] - p0[1];

                        return (x20 * x10 + y20 * y10) / (x10 * x10 + y10 * y10);
                        }
                    



                //----------------------------------------------------		
                //-------------- MARKERS ------------------------------		
                //----------------------------------------------------		


                var markers = ["marka_aux", "markb_aux", "markc_aux", "mark2_aux", "mark1_aux", "mark0_aux"];

                markers.forEach(function(marker) {
                svgA.append("svgA:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("svgA:marker")
                    .attr("id", marker)
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 4)
                    .attr("markerHeight", 5)
                    .attr("orient", "auto")
                    .append("svgA:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z");
                });
                

                //----------------------------------------------------		
                //-------------- CALCULATE VECTORS ------------------------------		
                //----------------------------------------------------		


                var update = function() {
                
                    var	veca = [va[0]-p0x, va[1]-p0y],
                        vecb = [vb[0]-p0x, vb[1]-p0y],
                        vecc = [vc[0]-p0x, vc[1]-p0y]
                        vecai = [ia[0]-p0x, ia[1]-p0y],
                        vecbi = [ib[0]-p0x, ib[1]-p0y],
                        vecci = [ic[0]-p0x, ic[1]-p0y];

                    var ampa = dist(va),
                        ampb = dist(vb),
                        ampc = dist(vc),
                        anglea = angle (veca),
                        angleb = angle(vecb),
                        anglec = angle(vecc)
                        ampai = dist(ia),
                        ampbi = dist(ib),
                        ampci = dist(ic),
                        angleai = angle (vecai),
                        anglebi = angle(vecbi),
                        angleci = angle(vecci);
                        
                    var va2 = [(veca[0]- (vecb[0]+vecc[0])/2 - (Math.sqrt(3)/ 2)*(vecb[1]-vecc[1]))/3, (veca[1]- ((vecb[1]+vecc[1])/2) + (Math.sqrt(3)/ 2)*(vecb[0]-vecc[0]))/3],
                        vb2 = [(-va2[0]+va2[1]* Math.sqrt(3))/2,(-va2[1]-va2[0]* Math.sqrt(3))/2 ],
                        vc2 = [(-va2[0]-va2[1]* Math.sqrt(3))/2,(-va2[1]+va2[0]* Math.sqrt(3))/2],
                        po = [p0x,p0y],
                        va2bis=[va2[0]+p0x/2,va2[1]+p0y/2],
                        vb2bis=[vb2[0]+p0x/2,vb2[1]+p0y/2],
                        vc2bis=[vc2[0]+p0x/2,vc2[1]+p0y/2],
                        ps2bis=[va2, vb2, vc2], 
                        va2= [va2[0]+p0x,va2[1]+p0y],
                        vb2= [vb2[0]+p0x,vb2[1]+p0y],
                        vc2= [vc2[0]+p0x,vc2[1]+p0y],
                        ps2 = [va2, vb2, vc2]
                        ia2 = [(vecai[0]- (vecbi[0]+vecci[0])/2 - (Math.sqrt(3)/ 2)*(vecbi[1]-vecci[1]))/3, (vecai[1]- ((vecbi[1]+vecci[1])/2) + (Math.sqrt(3)/ 2)*(vecbi[0]-vecci[0]))/3],
                        ib2 = [(-ia2[0]+ia2[1]* Math.sqrt(3))/2,(-ia2[1]-ia2[0]* Math.sqrt(3))/2 ],
                        ic2 = [(-ia2[0]-ia2[1]* Math.sqrt(3))/2,(-ia2[1]+ia2[0]* Math.sqrt(3))/2],
                        po = [p0x,p0y],
                        ia2bis=[ia2[0]+p0x/2,ia2[1]+p0y/2],
                        ib2bis=[ib2[0]+p0x/2,ib2[1]+p0y/2],
                        ic2bis=[ic2[0]+p0x/2,ic2[1]+p0y/2],
                        ps2bisi=[ia2, ib2, ic2], 
                        ia2= [ia2[0]+p0x,ia2[1]+p0y],
                        ib2= [ib2[0]+p0x,ib2[1]+p0y],
                        ic2= [ic2[0]+p0x,ic2[1]+p0y],
                        ps2i = [ia2, ib2, ic2];      
                            
                        data = [ [po[0], po[1]],[po[0], po[1]],[po[0], po[1]] ];
                        data3 = [ [0, 0],[0, 0],[0, 0] ];

                    var va1 = [((veca[0]- (vecb[0]+vecc[0])/2 + (Math.sqrt(3)/ 2)*(vecb[1]-vecc[1]))/3),( (veca[1]- (vecb[1]+vecc[1])/2 - Math.sqrt(3)/ 2*(vecb[0]-vecc[0]))/3)],
                    vb1 = [(-va1[0]-(va1[1]* Math.sqrt(3)))/2,(-va1[1]+va1[0]* Math.sqrt(3))/2 ],
                    vc1 = [(-va1[0]+va1[1]* Math.sqrt(3))/2,(-va1[1]-va1[0]* Math.sqrt(3))/2],
                    po = [p0x,p0y],
                    va1bis=[va1[0],va1[1]],
                    vb1bis=[vb1[0],vb1[1]],
                    vc1bis=[vc1[0],vc1[1]],
                    ps1bis=[va1, vb1, vc1],      
                    
                    va1= [va1[0]+va2[0],va1[1]+va2[1]],
                    vb1= [vb1[0]+vb2[0],vb1[1]+vb2[1]],
                    vc1= [vc1[0]+vc2[0],vc1[1]+vc2[1]],
                    ps1 = [va1, vb1, vc1],
                    ia1 = [((vecai[0]- (vecbi[0]+vecci[0])/2 + (Math.sqrt(3)/ 2)*(vecbi[1]-vecci[1]))/3),( (vecai[1]- (vecbi[1]+vecci[1])/2 - Math.sqrt(3)/ 2*(vecbi[0]-vecci[0]))/3)],
                    ib1 = [(-ia1[0]-(ia1[1]* Math.sqrt(3)))/2,(-ia1[1]+ia1[0]* Math.sqrt(3))/2 ],
                    ic1 = [(-ia1[0]+ia1[1]* Math.sqrt(3))/2,(-ia1[1]-ia1[0]* Math.sqrt(3))/2],
                    po = [p0x,p0y],
                    ia1bis=[ia1[0],ia1[1]],
                    ib1bis=[ib1[0],ib1[1]],
                    ic1bis=[ic1[0],ic1[1]],
                    ps1bisi=[ia1, ib1, ic1],      
                    
                    ia1= [ia1[0]+ia2[0],ia1[1]+ia2[1]],
                    ib1= [ib1[0]+ib2[0],ib1[1]+ib2[1]],
                    ic1= [ic1[0]+ic2[0],ic1[1]+ic2[1]],
                    ps1i = [ia1, ib1, ic1];   
                    data1 = [[va2[0] , va2[1]],[vb2[0] , vb2[1] ],[vc2[0] , vc2[1] ]];
                    data1i = [[ia2[0] , ia2[1]],[ib2[0] , ib2[1] ],[ic2[0] , ic2[1] ]];	
                
                
                var va0 = [(veca[0]+ vecb[0]+vecc[0])/3, (veca[1]+ vecb[1]+vecc[1])/3],
                    vb0 = [(veca[0]+ vecb[0]+vecc[0])/3,(veca[1]+ vecb[1]+vecc[1])/3 ],
                    vc0 = [(veca[0]+ vecb[0]+vecc[0])/3,(veca[1]+ vecb[1]+vecc[1])/3],
                    po = [p0x,p0y],               
                    ps0bis=[va0, vb0, vc0],                 
                    va0= [va0[0]+va1bis[0]+va2[0],va0[1]+va1bis[1]+va2[1]],
                    vb0= [vb0[0]+vb1bis[0]+vb2[0],vb0[1]+vb1bis[1]+vb2[1]],
                    vc0= [vc0[0]+vc1bis[0]+vc2[0],vc0[1]+vc1bis[1]+vc2[1]],
                    ps0 = [va0, vb0, vc0]
                    ia0 = [(vecai[0]+ vecbi[0]+vecci[0])/3, (vecai[1]+ vecbi[1]+vecci[1])/3],
                    ib0 = [(vecai[0]+ vecbi[0]+vecci[0])/3,(vecai[1]+ vecbi[1]+vecci[1])/3 ],
                    ic0 = [(vecai[0]+ vecbi[0]+vecci[0])/3,(vecai[1]+ vecbi[1]+vecci[1])/3],
                    po = [p0x,p0y],               
                    ps0bisi=[va0, vb0, vc0],                 
                    ia0= [ia0[0]+ia1bis[0]+ia2[0],ia0[1]+ia1bis[1]+ia2[1]],
                    ib0= [ib0[0]+ib1bis[0]+ib2[0],ib0[1]+ib1bis[1]+ib2[1]],
                    ic0= [ic0[0]+ic1bis[0]+ic2[0],ic0[1]+ic1bis[1]+ic2[1]],
                    ps0i = [ia0, ib0, ic0];  

                    data2 = [[va1bis[0]+va2[0] , va1bis[1]+va2[1]],[vb1bis[0]+vb2[0], vb1bis[1]+vb2[1] ],[vc1bis[0]+vc2[0] , vc1bis[1]+vc2[1] ]];	
                    data2i = [[ia1bis[0]+ia2[0] , ia1bis[1]+ia2[1]],[ib1bis[0]+ib2[0], ib1bis[1]+ib2[1] ],[ic1bis[0]+ic2[0] , ic1bis[1]+ic2[1] ]];


                //----------------------------------------------------		
                //-------------- CREATE VECTORS ------------------------------		
                //----------------------------------------------------		


                //---------- VECTOR A ---------------------
                    
                    var vectora = svgA.selectAll("polyline.vectora")
                        .data(psa);

                    vectora.enter().append("polyline")
                        .attr("class", "vectora")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });

                    vectora
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });
                //------------------Marker A--------

                var vectora = svgA.selectAll("polyline.vectora")
                        .data(psa);
                    vectora.enter().append("polyline")
                        .attr("class", "vectora")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#marka_aux)")
                        ;

                    vectora
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#marka_aux)")
                ;  
                //----------------------------------------

                //------------------Text A--------

                var texta = svgA.selectAll("text.texta")
                                        .data(psa); 
                                texta.enter()
                                        .append("text")
                                        .attr("class", "texta")
                                        .attr("x", function(d, i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})
                                .text( "Va = " + veca[0].toFixed(0) + " +j " +veca[1].toFixed(0));

                //Add SVG Text Element Attributes
                texta
                                .attr("x", function (d,i) {return (d.x);})
                                .attr("y", function (d,i) {return (d.y);})
                                .text("Va = " + veca[0].toFixed(0) + " +j " +veca[1].toFixed(0) )
                                .attr("font-family", "sans-serif")
                                .attr("font-size", "10px")
                                .attr("transform", "translate(" 
                                + (va[0]-(20/Math.cos(((ampa/100)-1)*(Math.PI/3.8)))*Math.cos(((Math.PI/2)-(((ampa/100)-1)*(Math.PI/3.8)))-((-anglea*Math.PI)/180)) ) + "," 
                                + (va[1]-(20/Math.cos(((ampa/100)-1)*(Math.PI/3.8)))*Math.sin(((Math.PI/2)-(((ampa/100)-1)*(Math.PI/3.8)))-((-anglea*Math.PI)/180)) )  + ")")
                                .attr("fill", "#DC143C");

                //------------------VECTOR B----------------------

                    var vectorb = svgA.selectAll("polyline.vectorb")
                        .data(psb);
                        vectorb.enter().append("polyline")
                        .attr("class", "vectorb")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });
                        
                        vectorb
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });

                //-----------------------Marker B---

                var vectorb = svgA.selectAll("polyline.vectorb")
                        .data(psb);
                    vectorb.enter().append("polyline")
                        .attr("class", "vectorb")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#markb_aux)")
                        ;

                    vectorb
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#markb_aux)")
                ;  
                //----------------------------------------

                //------------------Text B--------


                var textb = svgA.selectAll("text.textb")
                                        .data(psb);
                    
                                textb.enter()
                                        .append("text")
                                        .attr("class", "textb")
                                        .attr("x", function(d, i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})
                                .text( "Vb = " + vecb[0].toFixed(0) + " +j " +vecb[1].toFixed(0));
                
                //Add SVG Text Element Attributes
                textb
                                .attr("x", function (d,i) {return (d.x);})
                                .attr("y", function (d,i) {return (d.y);})
                                .text("Vb = " + vecb[0].toFixed(0) + " +j " +vecb[1].toFixed(0) )
                                .attr("font-family", "sans-serif")
                                .attr("font-size", "10px")
                                .attr("transform", "translate(" 
                                + (vb[0]-(20/Math.cos(((ampb/100)-1)*(Math.PI/3.8)))*Math.cos(((Math.PI/2)-(((ampb/100)-1)*(Math.PI/3.8)))-((-angleb*Math.PI)/180)) ) + "," 
                                + (vb[1]-(20/Math.cos(((ampb/100)-1)*(Math.PI/3.8)))*Math.sin(((Math.PI/2)-(((ampb/100)-1)*(Math.PI/3.8)))-((-angleb*Math.PI)/180)) )  + ")")
                                .attr("fill", "#e2de50");
                    
                //---------------VECTOR C -------------------------
                    var vectorc = svgA.selectAll("polyline.vectorc")
                        .data(psc);
                        vectorc.enter().append("polyline")
                        .attr("class", "vectorc")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });

                        vectorc
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });        

                //--------------------Marker C------

                var vectorc = svgA.selectAll("polyline.vectorc")
                        .data(psc);
                    vectorc.enter().append("polyline")
                        .attr("class", "vectorc")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#markc_aux)")
                        ;

                    vectorc
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#markc_aux)")
                ;  
                //----------------------------------------

                //------------------Text C--------

                var textc = svgA.selectAll("text.textc")
                                        .data(psc);
                        
                                textc.enter()
                                        .append("text")
                                        .attr("class","textc")
                                        .attr("x", function(d, i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})
                                .text( "Vc = " + vecc[0].toFixed(0) + " +j " +vecc[1].toFixed(0));

                textc
                                .attr("x", function (d,i) {return (d.x);})
                                .attr("y", function (d,i) {return (d.y);})
                                .text("Vc = " + vecc[0].toFixed(0) + " +j " +vecc[1].toFixed(0) )
                                .attr("font-family", "sans-serif")
                                .attr("font-size", "10px")
                                .attr("transform", "translate(" 
                                + (vc[0]-(20/Math.cos(((ampc/100)-1)*(Math.PI/3.8)))*Math.cos(((Math.PI/2)-(((ampc/100)-1)*(Math.PI/3.8)))-((-anglec*Math.PI)/180)) ) + "," 
                                + (vc[1]-(20/Math.cos(((ampc/100)-1)*(Math.PI/3.8)))*Math.sin(((Math.PI/2)-(((ampc/100)-1)*(Math.PI/3.8)))-((-anglec*Math.PI)/180)) )  + ")")
                                .attr("fill", "blue")
                                .attr("background-color","white");

                //---------------VECTOR 2-------------------------

                    var vector2 = svgA.selectAll("polyline.vector2")
                        .data(ps2);
                    vector2.enter().append("polyline")
                        .attr("class", "vector2")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                    });
                        
                    vector2
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                    });


                //--------------------------

                var vector2 = svgA.selectAll("polyline.vector2")
                        .data(ps2);
                    vector2.enter().append("polyline")
                        .attr("class", "vector2")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#mark2_aux)")
                        ;

                    vector2
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#mark2_aux)")
                ;  

                //------------VECTOR 1----------------------------    
                    var vector1 = svgA.selectAll("polyline.vector1")
                        .data(ps1);
                    vector1.enter().append("polyline")
                        .attr("class", "vector1")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                    });
                        
                    vector1
                    .attr("points", function(d, i) {
                        return polyline([data1[(i ) % 3],d]);
                    });

                //--------------------------

                var vector1 = svgA.selectAll("polyline.vector1")
                        .data(ps1);
                    vector1.enter().append("polyline")
                        .attr("class", "vector1")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#mark1_aux)")
                        ;

                    vector1
                    .attr("points", function(d, i) {
                        return polyline([data1[(i ) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#mark1_aux)")
                ;  
                //----------------VECTOR 0------------------------

                    var vector0 = svgA.selectAll("polyline.vector0")
                        .data(ps0);
                    vector0.enter().append("polyline")
                        .attr("class", "vector0")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                    });
                        
                    vector0
                    .attr("points", function(d, i) {
                        return polyline([data2[(i ) % 3],d]);
                    });
                    
                //--------------------------

                var vector0 = svgA.selectAll("polyline.vector0")
                        .data(ps0);
                    vector0.enter().append("polyline")
                        .attr("class", "vector0")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#mark0_aux)")
                        ;

                    vector0
                    .attr("points", function(d, i) {
                        return polyline([data2[(i ) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#mark0_aux)")
                ;  
                //--------------------I vectors ------------

                    var vectorai = svgA.selectAll("polyline.vectorai")
                        .data(psai);

                    vectorai.enter().append("polyline")
                        .attr("class", "vectorai")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });

                    vectorai
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });
                //------------------Marker A i--------

                var vectorai = svgA.selectAll("polyline.vectorai")
                        .data(psai);
                    vectorai.enter().append("polyline")
                        .attr("class", "vectorai")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#_aux)")
                        ;

                    vectorai
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#marka_aux)")
                ;  
                //----------------------------------------

                //------------------Text A i--------

                var textai = svgA.selectAll("text.textai")
                                        .data(psai); 
                                textai.enter()
                                        .append("text")
                                        .attr("class", "textai")
                                        .attr("x", function(d, i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})

                //Add SVG Text Element Attributes
                textai
                                .attr("x", function (d,i) {return (d.x);})
                                .attr("y", function (d,i) {return (d.y);})
                                .text( "Ia = " + (vecai[0]*MAX_yScale/MAX_yScaleRight).toFixed(0) + " +j " +(vecai[1]*MAX_yScale/MAX_yScaleRight).toFixed(0))
                                .attr("font-family", "sans-serif")
                                .attr("font-size", "10px")
                                .attr("transform", "translate(" 
                                + (ia[0]-(20/Math.cos(((ampai/100)-1)*(Math.PI/3.8)))*Math.cos(((Math.PI/2)-(((ampai/100)-1)*(Math.PI/3.8)))-((-angleai*Math.PI)/180)) ) + "," 
                                + (ia[1]-(20/Math.cos(((ampai/100)-1)*(Math.PI/3.8)))*Math.sin(((Math.PI/2)-(((ampai/100)-1)*(Math.PI/3.8)))-((-angleai*Math.PI)/180)) )  + ")")
                                .attr("fill", "#DC143C");

                //----------------------------------------

                    var vectorbi = svgA.selectAll("polyline.vectorbi")
                        .data(psbi);
                        vectorbi.enter().append("polyline")
                        .attr("class", "vectorbi")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });
                        
                        vectorbi
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        });

                //-----------------------Marker B i---

                var vectorbi = svgA.selectAll("polyline.vectorbi")
                        .data(psbi);
                    vectorbi.enter().append("polyline")
                        .attr("class", "vectorbi")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#markb_aux)")
                        ;

                    vectorbi
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#markb_aux)")
                ;  
                //----------------------------------------

                //------------------Text B i--------


                var textbi = svgA.selectAll("text.textbi")
                                        .data(psbi);
                    
                                textbi.enter()
                                        .append("text")
                                        .attr("class", "textbi")
                                        .attr("x", function(d, i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})
                
                //Add SVG Text Element Attributes
                textbi
                                .attr("x", function (d,i) {return (d.x);})
                                .attr("y", function (d,i) {return (d.y);})
                                .text( "Ib = " + (vecbi[0]*MAX_yScale/MAX_yScaleRight).toFixed(0) + " +j " +(vecbi[1]*MAX_yScale/MAX_yScaleRight).toFixed(0))
                                .attr("font-family", "sans-serif")
                                .attr("font-size", "10px")
                                .attr("transform", "translate(" 
                                + (ib[0]-(20/Math.cos(((ampbi/100)-1)*(Math.PI/3.8)))*Math.cos(((Math.PI/2)-(((ampbi/100)-1)*(Math.PI/3.8)))-((-anglebi*Math.PI)/180)) ) + "," 
                                + (ib[1]-(20/Math.cos(((ampbi/100)-1)*(Math.PI/3.8)))*Math.sin(((Math.PI/2)-(((ampbi/100)-1)*(Math.PI/3.8)))-((-anglebi*Math.PI)/180)) )  + ")")
                                .attr("fill", "#e2de50");
                    
                //--------------------VECTOR C i--------------------
                    var vectorci = svgA.selectAll("polyline.vectorci")
                        .data(psci);
                        vectorci.enter().append("polyline")
                        .attr("class", "vectorci")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#markc_aux)");

                        vectorci
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        }).attr("marker-end", "url(#markc_aux)");        

                //--------------------Marker Ci------

                // var vectorci = svgA.selectAll("polyline.vectorci")
                //         .data(psci);
                    // vectorci.enter().append("polyline")
                    //     .attr("class", "vectorci")
                    //     .attr("points", function(d, i) {
                    //     return polyline([data[(i + 1) % 3],d]);
                    //     })
                    //     .append("marker")
                    //     .attr("marker-end", "url(#markc_aux)")
                    //     ;

                //     vectorci
                //     .attr("points", function(d, i) {
                //         return polyline([data[(i + 1) % 3],d]);
                
                //         })
                //         .attr("marker-end", "url(#markc_aux)")
                // ;  
                //----------------------------------------

                //------------------Text C i--------

                var textci = svgA.selectAll("text.textci")
                                        .data(psci);
                        
                                textci.enter()
                                        .append("text")
                                        .attr("class","textci")
                                        .attr("x", function(d, i) {return (d.x);})
                                        .attr("y", function (d,i) {return (d.y);})

                textci
                                .attr("x", function (d,i) {return (d.x);})
                                .attr("y", function (d,i) {return (d.y);})
                                .text( "Ic = " + (vecci[0]*MAX_yScale/MAX_yScaleRight).toFixed(0) + " +j " +(vecci[1]*MAX_yScale/MAX_yScaleRight).toFixed(0))
                                .attr("font-family", "sans-serif")
                                .attr("font-size", "10px")
                                .attr("transform", "translate(" 
                                + (ic[0]-(20/Math.cos(((ampci/100)-1)*(Math.PI/3.8)))*Math.cos(((Math.PI/2)-(((ampci/100)-1)*(Math.PI/3.8)))-((-angleci*Math.PI)/180)) ) + "," 
                                + (ic[1]-(20/Math.cos(((ampci/100)-1)*(Math.PI/3.8)))*Math.sin(((Math.PI/2)-(((ampci/100)-1)*(Math.PI/3.8)))-((-angleci*Math.PI)/180)) )  + ")")
                                .attr("fill", "blue")
                                .attr("background-color","white");

                //----------------------------------------

                    var vector2i = svgA.selectAll("polyline.vector2")
                        .data(ps2i);
                    vector2i.enter().append("polyline")
                        .attr("class", "vector2")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                    });
                        
                    vector2i
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                    });


                //--------------------------

                var vector2i = svgA.selectAll("polyline.vector2")
                        .data(ps2i);
                    vector2i.enter().append("polyline")
                        .attr("class", "vector2")
                        .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#mark2_aux)")
                        ;

                    vector2i
                    .attr("points", function(d, i) {
                        return polyline([data[(i + 1) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#mark_aux)")
                ;  

                //----------------------------------------    
                    var vector1i = svgA.selectAll("polyline.vector1")
                        .data(ps1i);
                    vector1i.enter().append("polyline")
                        .attr("class", "vector1")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                    });
                        
                    vector1i
                    .attr("points", function(d, i) {
                        return polyline([data1i[(i ) % 3],d]);
                    });

                //--------------------------

                var vector1i = svgA.selectAll("polyline.vector1")
                        .data(ps1i);
                    vector1i.enter().append("polyline")
                        .attr("class", "vector1")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#mark1_aux)")
                        ;

                    vector1i
                    .attr("points", function(d, i) {
                        return polyline([data1i[(i ) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#mark1_aux)")
                ;  
                //----------------------------------------

                    var vector0i = svgA.selectAll("polyline.vector0")
                        .data(ps0i);
                    vector0i.enter().append("polyline")
                        .attr("class", "vector0")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                    });
                        
                    vector0i
                    .attr("points", function(d, i) {
                        return polyline([data2i[(i ) % 3],d]);
                    });
                    
                //--------------------------

                var vector0i = svgA.selectAll("polyline.vector0")
                        .data(ps0i);
                    vector0i.enter().append("polyline")
                        .attr("class", "vector0")
                        .attr("points", function(d, i) {
                        return polyline([data[(i ) % 3],d]);
                        })
                        .append("marker")
                        .attr("marker-end", "url(#mark0_aux)")
                        ;

                    vector0i
                    .attr("points", function(d, i) {
                        return polyline([data2i[(i ) % 3],d]);
                
                        })
                        .attr("marker-end", "url(#mark0_aux)");
                
                };

                //----------------------------------------------------		
                //-------------- UPDATE ------------------------------		
                //----------------------------------------------------		
                
                
                update();


                //---------------------------DDD      ----------------------------
                //---------------------------D  DD    ----------------------------
                //---------------------------D   DD   ----------------------------
                //---------------------------D    DD  ----------------------------
                //---------------------------D  DD    ----------------------------
                //---------------------------DDD      ----------------------------


                let topMenueButtons = d3.select("#topMenueButtons");
                let cellblanktdButtons1 = topMenueButtons.insert("td", "td:first-child");
                let cellblanktdButtons2 = topMenueButtons.append("td");
                cellblanktdButtons1.attr("id", "cellblanktdButtons1").style("width","20%");
                cellblanktdButtons2.attr("id", "cellblanktdButtons2").style("width","20%");
                // Select all of the td elements within the topMenueButtons row
                let tdButtonsElements = topMenueButtons.selectAll("td");
                // Set the width style on the rest individual td element
                tdButtonsElements.filter(":not(:first-child):not(:last-child)").style("width", "30%");
                // Set the text-align property to center for all td elements
                tdButtonsElements.style("text-align", "center");

                // Create the table element
                let tableSineWave = d3.select("#trig")
                .append("table").style("width","77%")
                .style("border-collapse", "collapse")
                .style("padding", "0")
                .style("margin", "0");

                // Create a single row with two cells
                let rowSineWave = tableSineWave.append("tr");
                let cellblank1 = rowSineWave.append("td");
                let cellSine = rowSineWave.append("td").style("overflow","hidden");
                let cellblank2 = rowSineWave.append("td");

                // Set IDs for the cells
                cellblank1.attr("id", "cellblank1").style("width","20%");
                cellSine.attr("id", "cellSine").style("width","58%");
                cellblank2.attr("id", "cellblank2").style("width","20%");
                
                const trigText = d3.select("#trigText");
                        trigText.append("h2")              
                        .text("Master the basics of overcurrent and directional overcurrent relay protection")
                                           
                        .style("text-align","center")
                        .style("margin-bottom",0+"px");

                let variablesForChar = d3.select("#variablesForChar");
                let cellblankChar1 = variablesForChar.insert("td", "td:first-child");
                let cellblankChar2 = variablesForChar.append("td");
                cellblankChar1.attr("id", "cellblankChar1").style("width","20%");
                cellblankChar2.attr("id", "cellblankChar2").style("width","20%");
                // Select all of the td elements within the variablesForChar row
                let tdElements = variablesForChar.selectAll("td");
                // Set the width style on the rest individual td element
                tdElements.filter(":not(:first-child):not(:last-child)").style("width", "15%");
                // Set the text-align property to center for all td elements
                tdElements.style("text-align", "center");


                // Create a new table element
                let tableChar = d3.select("#ForChar")
                .append("table").style("width","77%").style("height",450+"px")
                .style("border-collapse", "collapse")
                .style("padding", "0")
                .style("margin", "0");

                // Create a single row with two cells
                let rowChar = tableChar.append("tr")
                let cellblankrowChar1 = rowChar.append("td");
                let cellChar = rowChar.append("td"); 
                cellChar.attr("id", "cellChar").style("overflow","hidden");
                let cellblankrowChar2 = rowChar.append("td");
                cellblankrowChar1.attr("id", "cellblankrowChar1").style("width","20%");
                cellChar.style("width","60%");
                cellblankrowChar2.attr("id", "cellblankrowChar2").style("width","20%");



                (function () {
                var 
                X1 = 'x1', X2 = 'x2', Y1 = 'y1', Y2 = 'y2'; 
                var 
                dataB = [], dataR = [], dataY = [], width = 650, height = 220, centerX =380, centerY =220, 
                xmin = -1.2, 
                xmax = 5, 
                ymin = -height * (xmax - xmin) / width / 2, 
                ymax = -ymin, 
                xScale = d3.scale.linear(), 
                yScale = d3.scale.linear(), 
                vis_trig = d3.select("#cellSine").append('svg').style("overflow","visible"),
                vis2_trig = d3.select("#cellChar").append('svg').attr("class", "rootChar"),
                vis3_trig = d3.select("#fragment_animation_2").append('svg');
                
                xScale.domain([xmin, xmax]).range([0, width]); 
                yScale.domain([ymin, ymax]).range([0, height]); 
                
                var
                decor = vis_trig.append('g'),  
                graph = vis_trig.append('g'),
                graph2 = vis2_trig.append('g'), 
                graph3 = vis3_trig.append('g'), 
                pathB = graph.append('path'), 
                pathR = graph.append('path'),  
                pathY = graph.append('path'),
                characteristic_amplitude =450,
                characteristic_angle =0,
                relay_angle =0,
                characteristic = graph2.append('path'),
                characteristicY = graph2.append('path'),
                characteristicB = graph2.append('path'), 
                characteristic_end = graph2.append('path'), 
                characteristic_endY = graph2.append('path'), 
                characteristic_endB = graph2.append('path'), 
                recX = 500, 
                recY = 400,
                bR = graph.append('line'), 
                cR = graph.append('path'), 
                dR = graph.append('line'), 
                bY = graph.append('line'), 
                cY = graph.append('path'), 
                dY = graph.append('line'), 
                bB = graph.append('line'), 
                cB = graph.append('path'), 
                dB = graph.append('line'), 
                cPolRY = graph.append('path'),  
                cPolRYbis = graph2.append('path'), 
                cPolRYbis_end = graph2.append('path'),
                arcPolRYbis_end = graph2.append('path'),
                cPolRYter = graph3.append('path'), 
                cPolYB = graph.append('path'),
                cPolYBbis = graph2.append('path'),
                cPolYBbis_end = graph2.append('path'),
                arcPolYBbis_end = graph2.append('path'),
                cPolYBter = graph3.append('path'),
                cPolBR = graph.append('path'),  
                cPolBRbis = graph2.append('path'), 
                cPolBRbis_end = graph2.append('path'),
                arcPolBRbis_end = graph2.append('path'),
                cPolBRter = graph3.append('path'),
                circle = graph.append('circle'),
                Va_Faultbis = graph2.append('path'),
                Vb_Faultbis = graph2.append('path'),
                Vc_Faultbis = graph2.append('path'),
                Va_Faultter = graph3.append('path'),
                Vb_Faultter = graph3.append('path'),
                Vc_Faultter = graph3.append('path'),
                dotR = graph.append('circle'),  
                dotY = graph.append('circle'),
                dotB = graph.append('circle'), 
                rectVAB = graph.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"), 
                rectVBC = graph.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"), 
                rectVCA = graph.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"),
                rectVA = graph.append("rect").attr("width", "30").attr("height", "18").attr("fill", "white"), 
                rectVB = graph.append("rect").attr("width", "30").attr("height", "18").attr("fill", "white"), 
                rectVC = graph.append("rect").attr("width", "30").attr("height", "18").attr("fill", "white"), 
                rectVAter = graph3.append("rect").attr("width", "30").attr("height", "18").attr("fill", "white"), 
                rectVBter = graph3.append("rect").attr("width", "30").attr("height", "18").attr("fill", "white"), 
                rectVCter = graph3.append("rect").attr("width", "30").attr("height", "18").attr("fill", "white"),
                rectVABbis = graph2.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"),
                rectVBCbis = graph2.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"),  
                rectVCAbis = graph2.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"),
                rectVABter = graph3.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"), 
                rectVBCter = graph3.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"), 
                rectVCAter = graph3.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"),

                rectVPol = graph2.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"), 
                rectVPolBC = graph2.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"), 
                rectVPolCA = graph2.append("rect").attr("width", "50").attr("height", "24").attr("fill", "white"),  
                labelVAB = graph.append('text'),labelVBC = graph.append('text'),
                labelVCA = graph.append('text'), labelVA = graph.append('text'),
                labelVB = graph.append('text'),labelVC = graph.append('text'),
                labelVABbis = graph2.append('text'),  
                labelVBCbis = graph2.append('text'), 
                labelVCAbis = graph2.append('text'),
                labelVPol = graph2.append('text'),
                labelVABter = graph3.append('text'), 
                labelVBCter = graph3.append('text'),
                labelVCAter = graph3.append('text'),
                labelVPol = graph2.append('text'),

                labelVPolBC = graph2.append('text'),
                labelVPolCA = graph2.append('text'),
                label_Ia_fault = graph2.append('text'),
                label_Ib_fault = graph2.append('text'),
                label_Ic_fault = graph2.append('text'),
                labelVABter = graph3.append('text'),
                labelVBCter = graph3.append('text'),
                labelVCAter = graph3.append('text'), 
                labelVAter = graph3.append('text'),
                labelVBter = graph3.append('text'),
                labelVCter = graph3.append('text'),

                    label_Ia_fault1 = graph.append('text'),label_Ib_fault1 = graph.append('text'),label_Ic_fault1 = graph.append('text'),
                    label_Va_fault = graph2.append('text'),label_Vb_fault = graph2.append('text'),label_Vc_fault = graph2.append('text'),
                    arc_labelRY = graph2.append('text'),arc_labelYB = graph2.append('text'),arc_labelBR = graph2.append('text'),
                    arc_I_V_RY = graph2.append('path'), arc_I_V_YB = graph2.append('path'), arc_I_V_BR = graph2.append('path'),
                    arc_I_V_labelRY = graph2.append('text'), arc_I_V_labelYB = graph2.append('text'), arc_I_V_labelBR = graph2.append('text'),
                    Trip = graph2.append('text'), 
                    NoTrip = graph2.append('text'), 
                    TripBC = graph2.append('text'), 
                    NoTripBC = graph2.append('text'), 
                    TripCA = graph2.append('text'), 
                    NoTripCA = graph2.append('text'),
                    Ia_Fault = graph.append('path'),
                    Ib_Fault = graph.append('path'),
                    Ic_Fault = graph.append('path'),
                    Ia_Faultbis = graph2.append('path'),
                    Ib_Faultbis = graph2.append('path'),
                    Ic_Faultbis = graph2.append('path'),
                    sineR = d3.svg.line(),
                    sineB = d3.svg.line(),
                    sineY = d3.svg.line(), 
                
                    time = 0, i; 

                vis_trig.append("vis_trig:defs").selectAll("marker")
                    .data(["arrow"])
                .enter().append("vis_trig:marker")
                    .attr("id", "markR")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 8)
                    .attr("markerHeight", 12)
                    .attr("orient", "auto")
                    .append("vis_trig:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z").style("fill","red").style("stroke-width",0.1);

                vis_trig.append("vis_trig:defs").selectAll("marker")
                    .data(["arrow"])
                .enter().append("vis_trig:marker")
                    .attr("id", "markY")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 8)
                    .attr("markerHeight", 12)
                    .attr("orient", "auto")
                    .append("vis_trig:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z").style("fill","yellow").style("stroke-width",0.1);

                vis_trig.append("vis_trig:defs").selectAll("marker")
                    .data(["arrow"])
                .enter().append("vis_trig:marker")
                    .attr("id", "markB")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 8)
                    .attr("markerHeight", 12)
                    .attr("orient", "auto")
                    .append("vis_trig:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z").style("fill","blue").style("stroke-width",0.1); 

                vis_trig.append("vis_trig:defs").selectAll("marker")
                    .data(["arrow"])
                .enter().append("vis_trig:marker")
                    .attr("id", "markPol")
                    .attr("viewBox", "0 -2.5 5 5")
                    .attr("refX", 5)
                    .attr("refY", 0)
                    .attr("markerWidth", 8)
                    .attr("markerHeight", 12)
                    .attr("orient", "auto")
                    .append("vis_trig:path")
                    .attr("d", "M0,-2.5L5,0L0,2.5,z").style("fill","SteelBlue").style("stroke-width",0.1); 

                vis2_trig.append("vis2_trig:defs").selectAll("marker")
                    .data(["arrow"])
                    .enter().append("vis2_trig:marker")
                    .attr("id", "markRestrain")
                    .attr("viewBox", "-5 -2.5 5 5")
                    .attr("refX", 0)
                    .attr("refY", 0)
                    .attr("markerWidth", 800)
                    .attr("markerHeight", 800)
                    .attr("orient", "auto")
                    .append("vis2_trig:path")
                    .attr("d", "M0,-2.5L-5,-2.5L-5,2.5L0,2.5,z").style("fill","SteelBlue").style("fill-opacity","0.2").style("stroke-width",0.1); 
                    
                var rec = graph2.append('rect'), 
                recLow = graph2.append('path'),recLabelVAB = graph.append("rect"),recLabelVABbis = graph2.append("rect");	
                recLowform = graph2.append('form').select(".form19");
                for (i = 0; i < 84; i++) { 
                dataB.push(i * 10 / 84); dataR.push(i * 10 / 84); dataY.push(i * 10 / 84);  } 

                vis_trig.attr('class', 'trig rootSine').attr('width',width).attr('height',height); 
                vis2_trig.attr('id', 'cellChar').attr('width',width).attr('height',450); 
                vis3_trig.attr('class', 'trig').attr('width',300).attr('height',220); 
                sineR 
                .x(function (d, i) { return xScale(d); }) 
                .y(function (d, i) { return yScale(Math.sin(d - time + Math.PI)); }); 
                sineB 
                .x(function (d, i) { return xScale(d); }) 
                .y(function (d, i) { return yScale(Math.sin(d - time + Math.PI/3)); }); 
                sineY 
                .x(function (d, i) { return xScale(d); }) 
                .y(function (d, i) { return yScale(Math.sin(d - time - Math.PI/3)); }); 
                // X-Axis 
                decor.append('line').attr('class','axis').attr(X1, xScale(xmin)).attr(Y1, yScale(0)).attr(X2, xScale(xmax*1.3)).attr(Y2, yScale(0)); 
                decor.append('line').attr('class','axis').attr(X1, xScale(Math.PI)).attr(Y1, yScale(0)).attr(X2, xScale(Math.PI)).attr(Y2, yScale(0) + 8); 
                decor.append('line').attr('class','axis').attr(X1, xScale(2*Math.PI)).attr(Y1, yScale(0)).attr(X2, xScale(2*Math.PI)).attr(Y2, yScale(0) + 8); 
                decor.append("text").text(String.fromCharCode(960)).attr("x", Math.round(xScale(Math.PI))).attr("y", (yScale(0)) + 24).attr("text-anchor","middle"); 
                decor.append("text").text("2"+String.fromCharCode(960)).attr("x", Math.round(xScale(2 * Math.PI))).attr("y", (yScale(0)) +24).attr("text-anchor","middle"); 
                
                
                // Y-Axis 
                decor.append('line').attr('class','axis').attr(X1, xScale(0)).attr(Y1, yScale(ymin)).attr(X2, xScale(0)).attr(Y2, yScale(ymax)); 

                // Circle 
                circle.attr('cx', xScale(0)).attr('cy', yScale(0)).attr('r', xScale(1) - xScale(0)); 

                // Dot
                dotB.attr('cx', xScale(0)).attr('r', 4).style('fill', '#fff');
                dotR.attr('cx', xScale(0)).attr('r', 4).style('fill', '#fff');
                dotY.attr('cx', xScale(0)).attr('r', 4).style('fill', '#fff');

                function draw() { 
                ABphase=1,BCphase=0,CAphase=0,XoverR=60,Rchar=45; 
                var 
                x = xScale(-Math.cos(time)), Ix =  xScale(-Math.cos(time-Math.PI*XoverR/180)/2), Ixlabel =  xScale(-1.23*Math.cos(time-Math.PI*XoverR/180)/2),
                y = yScale(Math.sin(time)), Iy = yScale(Math.sin(time-Math.PI*XoverR/180)/2),Iylabel = yScale(1.23*Math.sin(time-Math.PI*XoverR/180)/2),
                xY = xScale(Math.cos(time + Math.PI/3)), IxY = xScale(Math.cos(time -(Math.PI*XoverR/180) + Math.PI/3)/2),IxYlabel = xScale(1.23*Math.cos(time -(Math.PI*XoverR/180) + Math.PI/3)/2),
                yY = yScale(-Math.sin(time + Math.PI/3)), IyY = yScale(-Math.sin(time -(Math.PI*XoverR/180) + Math.PI/3)/2), IyYlabel = yScale(-1.23*Math.sin(time -(Math.PI*XoverR/180) + Math.PI/3)/2),
                xB = xScale(Math.cos(time - Math.PI/3)), IxB = xScale(Math.cos(time -(Math.PI*XoverR/180) - Math.PI/3)/2), IxBlabel = xScale(1.23*Math.cos(time -(Math.PI*XoverR/180) - Math.PI/3)/2),
                yB = yScale(-Math.sin(time - Math.PI/3)), IyB = yScale(-Math.sin(time -(Math.PI*XoverR/180) - Math.PI/3)/2), IyBlabel = yScale(-1.23*Math.sin(time -(Math.PI*XoverR/180) - Math.PI/3)/2) ; 
                pathR.attr("class","red").attr('d', sineR(dataR)); 
                pathB.attr("class","blue").attr('d', sineB(dataB)); 
                pathY.attr("class","yellow").attr('d', sineY(dataY)); 

                    d3.selectAll(".VabTrip").style("display","block");
                    d3.selectAll(".Vab").style("display","block");
                    d3.selectAll(".VbcTrip").style("display","none");
                    d3.selectAll(".VcaTrip").style("display","none");
                    d3.selectAll(".steelVab").style("display","block");
                    d3.selectAll(".blueI").style("display","block");
                    d3.selectAll(".redI").style("display","none");
                    d3.selectAll(".yellowI").style("display","none");
                    d3.selectAll(".arcYB").style("display","none");
                    d3.selectAll(".arcBR").style("display","none");
                    d3.selectAll(".arcRY").style("display","block");


                    rectVA.attr("class",'Va').attr("x", ((x+xScale(0))/2)-15).attr("y", ((y+yScale(0))/2) - 15); 
                    rectVB.attr("class",'Vb').attr("x", ((xY+xScale(0))/2)-15).attr("y", ((yY+yScale(0))/2) - 15); 
                    rectVC.attr("class",'Vc').attr("x", ((xB+xScale(0))/2)-15).attr("y", ((yB+yScale(0))/2) - 15);   
                    rectVAB.attr("class",'Vab').attr("x", ((x+xY)/2)-5).attr("y", ((y+yY)/2) - 20);  
                    labelVA.text('Va').attr("class","red").attr("x",  0.5*(x+xScale(0))).attr("y",0.5*(y+yScale(0))).style("font-size","20px");
                    labelVB.text('Vb').attr("class","yellow").attr("x", 0.5*(xY+xScale(0))).attr("y",0.5*(yY+yScale(0))).style("font-size","20px"); 
                    labelVC.text('Vc').attr("class","blue").attr("x",  0.5*(xB+xScale(0))).attr("y",0.5*(yB+yScale(0))).style("font-size","20px");  
                    labelVAB.text('Vab').attr("class","Vab").attr("x", (x+xY)/2).attr("y", (y+yY)/2);
                


                cR.attr("class","red").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + x +"," + y + "").attr("marker-end", "url(#markR)");
                Va_Faultter.attr("class","redI").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + x +"," + y + "").attr("marker-end", "url(#markR)");
                Ia_Fault.attr("class","redI").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + Ix +"," + Iy + "").attr("marker-end", "url(#markR)");
                label_Ia_fault1.text('Ia').attr("class","redI").attr("x",  (Ixlabel) ).attr("y",(Iylabel)).style("font-size","20px");
                bR.attr("class","dotted showDotted").attr(X1, xScale(0)).attr(Y1, y).attr(X2, x).attr(Y2, y); 
                dR.attr("class","dotted showDotted").attr(X1, x).attr(Y1, yScale(0)).attr(X2, x).attr(Y2,y);  
                cY.attr("class","yellow").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + xY +"," + yY + "").attr("marker-end", "url(#markY)"); 
                Vb_Faultter.attr("class","yellowI").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + xY +"," + yY + "").attr("marker-end", "url(#markY)"); 
                Ib_Fault.attr("class","yellowI").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + IxY +"," + IyY + "").attr("marker-end", "url(#markY)");
                label_Ib_fault1.text('Ib').attr("class","yellowI").attr("x",  (IxYlabel) ).attr("y",(IyYlabel)).style("font-size","20px"); 
                bY.attr("class","dotted").attr(X1, xScale(0)).attr(Y1, yY).attr(X2, xY).attr(Y2, yY); 
                dY.attr("class","dotted").attr(X1, xY).attr(Y1, yScale(0)).attr(X2, xY).attr(Y2,yY);  
                cB.attr("class","blue").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + xB +"," + yB + "").attr("marker-end", "url(#markB)"); 
                Vc_Faultter.attr("class","blueI").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + xB +"," + yB + "").attr("marker-end", "url(#markB)"); 
                Ic_Fault.attr("class","blueI").attr("d","m" + xScale(0) +"," + yScale(0) + "L"  + IxB +"," + IyB + "").attr("marker-end", "url(#markB)");
                label_Ic_fault1.text('Ic').attr("class","blueI").attr("x",  (IxBlabel) ).attr("y",(IyBlabel)).style("font-size","20px"); 
                bB.attr("class","dotted").attr(X1, xScale(0)).attr(Y1, yB).attr(X2, xB).attr(Y2, yB);
                dB.attr("class","dotted").attr(X1, xB).attr(Y1, yScale(0)).attr(X2, xB).attr(Y2,yB);  
                cPolRY.attr("class","steelVab").attr("d","m" + xY +"," + yY + "L"  + x +"," + y + "").attr("marker-end", "url(#markPol)"); 
                cPolRYter.attr("class","steelVab").attr("d","m" + xY +"," + yY + "L"  + x +"," + y + "").attr("marker-end", "url(#markPol)");  
                cPolYB.attr("class","steelVbc").attr("d","m" + xB +"," + yB + "L"  + xY +"," + yY + "").attr("marker-end", "url(#markPol)");  
                cPolYBter.attr("class","steelVbc").attr("d","m" + xB +"," + yB + "L"  + xY +"," + yY + "").attr("marker-end", "url(#markPol)");   
                cPolBR.attr("class","steelVca").attr("d","m" + x +"," + y + "L"  + xB +"," + yB + "").attr("marker-end", "url(#markPol)"); 
                cPolBRter.attr("class","steelVca").attr("d","m" + x +"," + y + "L"  + xB +"," + yB + "").attr("marker-end", "url(#markPol)");   

                characteristic_angle = Math.atan2(-(y-yY),-(x-xY))+Math.PI/2;
                characteristic_angleY = Math.atan2(-(yY-yB),-(xY-xB))+Math.PI/2;
                characteristic_angleB = Math.atan2(-(yB-y),-(xB-x))+Math.PI/2;
                d3.selectAll(".dotted").style("display","none");
                d3.selectAll(".dotted.red").style("display","block");
                characteristic_end.attr("class","steelVab").attr("d","m" + (centerX-characteristic_amplitude * Math.cos(characteristic_angle+relay_angle)) +"," + (centerY-characteristic_amplitude * Math.sin(characteristic_angle+relay_angle)) + "L"  + (centerX+characteristic_amplitude * Math.cos(characteristic_angle+relay_angle)) +"," + (centerY+characteristic_amplitude * Math.sin(characteristic_angle+relay_angle)) + "");  
                characteristic.attr("class","steelVab").attr("d","m" + (centerX-characteristic_amplitude * Math.cos(characteristic_angle)) +"," + (centerY-characteristic_amplitude * Math.sin(characteristic_angle)) + "L"  + (centerX+characteristic_amplitude * Math.cos(characteristic_angle)) +"," + (centerY+characteristic_amplitude * Math.sin(characteristic_angle)) + "").attr("stroke-dasharray","3").style("stroke-width","1"); 

                rec.attr("fill","none").attr("stroke","SteelBlue").attr("x",100).attr("y",25).attr("width",recX).attr("height",recY);
                recLow.attr("fill","white").attr("stroke","none").attr("d", "M0," + (0) +  "L"  + (100) +"," + (0) +  "L"  + (100) +"," + (25+recY)  +  
                                                                        "L"  + (100+recX) +"," + (25+recY) +"L"  + (100+recX) +"," + (25) + "L"  + (100) +"," + (25) +
                                                                        "L"  + (100) +"," + (0) + "L"  + (100+recX+100) +"," + (0) +
                                                                        "L"  + (100+recX+100) +"," + (25+recY+180) + "L"  + (0) +"," + (25+recY+180) + 
                                                                        "L"  + (0) +"," + (0) + "") ; 
                // characteristic.attr("class","steel").attr("d","m" + (400) +"," + (500) + "L"  + (400+characteristic_amplitude * Math.cos(characteristic_angle)) +"," + (500+characteristic_amplitude * Math.sin(characteristic_angle)) + "").attr("marker-end", "url(#markPol)"); 
                dotR.attr('cy', y);  dotY.attr('cy', yY);  dotB.attr('cy', yB); 
                
                arcPolRYbis_end.attr("class","arcRY").attr("d","M" + (centerX+0.75*(x-xY)) +"," + (centerY+0.75*(y-yY)) + "A" + Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY)) + "," + Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY)) + " 0 0 0," + (centerX+0.75*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.cos(characteristic_angle+relay_angle+(Math.PI/2))) + "," + (centerY+0.75*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.sin(characteristic_angle+relay_angle+(Math.PI/2)))).attr("marker-end", "url(#markPol)");
                arc_labelRY.text("+" + Rchar+" ").attr("class","arcRY").style({"stroke": "SteelBlue","fill": "SteelBlue","font-size": "24px"}).attr("x", (centerX+0.9*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.cos(characteristic_angle+relay_angle/2+(Math.PI/2)))).attr("y",centerY+0.9*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.sin(characteristic_angle+relay_angle/2+(Math.PI/2))).style("font-size","16px").style("font-weight",300);
                cPolRYbis.attr("class","steelVab").attr("d","m" + centerX +"," + centerY + "L"  + (centerX+x-xY) +"," + (centerY+y-yY) + "").attr("marker-end", "url(#markPol)");  
                cPolRYbis_end.attr("class","steelVab").attr("d","m" + centerX +"," + centerY + "L"  + (centerX+Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.cos(characteristic_angle+relay_angle+(Math.PI/2))) +"," + (centerY+Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.sin(characteristic_angle+relay_angle+(Math.PI/2))) + "").attr("marker-end", "url(#markPol)").attr("marker-start", "url(#markRestrain)");  
                Ic_Faultbis.attr("class","blueI").attr("d","m" + centerX +"," + centerY + "L"  + (centerX+IxB-xScale(0)) +"," + (centerY+IyB-yScale(0)) + "").attr("marker-end", "url(#markB)");
                Vc_Faultbis.attr("class","blueI").attr("d","m" + centerX +"," + centerY + "L"  + (centerX+xB-xScale(0)) +"," + (centerY+yB-yScale(0)) + "").attr("marker-end", "url(#markB)");

                arc_I_V_RY.attr("class","blueI").attr("d","M" + (centerX+IxB-xScale(0)) +"," + (centerY+IyB-yScale(0)) + "A" + 50 + "," + 50 + " 0 0 0," + (centerX+(xB-xScale(0))/2+ "," + (centerY+(yB-yScale(0))/2 ) ) ).attr("marker-end", "url(#markB)");
                arc_I_V_labelRY.text("+" + XoverR+" ").attr("class","blueI").attr("x",centerX+( -(centerX+IxB-xScale(0)) + ( (centerX+(xB-xScale(0))/1 )))/1.8  ).attr("y",centerY+( -(centerY+IyB-yScale(0)) + (centerY+(yB-yScale(0))/1 ) )/1.8  ).style("font-size","16px");

                label_Vc_fault.text('Vc').attr("class","blueI").attr("x", (centerX+1.2*(xB-xScale(0)) )).attr("y", (centerY+1.2*(yB-yScale(0)) )); 
                label_Ic_fault.text('Ic').attr("class","blueI").attr("x", (centerX-0.5*(IxB-xScale(0)) )).attr("y", (centerY-0.5*(IyB-yScale(0)) )); 

                rectVABbis.attr("class","Vab")
                .attr("x", centerX+((x-xY)/2)-5).attr("y", (centerY+(y-yY)/2) - 20);
                labelVABbis.text('Vab').attr("class","VabTrip").style({"stroke": "SteelBlue","fill": "SteelBlue","font-size": "24px"})
                .attr("x", (centerX+(x-xY)/2)).attr("y", (centerY+(y-yY)/2)); 

                rectVPol.attr("class","Vab").
                attr("x", centerX+0.5*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.cos(characteristic_angle+relay_angle+(Math.PI/2))-5)
                .attr("y", (centerY+0.5*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.sin(characteristic_angle+relay_angle+(Math.PI/2)) - 20)); 
                labelVPol.text('Vpol').attr("class","VabTrip").style({"stroke": "SteelBlue","fill": "SteelBlue","font-size": "24px"})
                .attr("x", (centerX+0.5*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.cos(characteristic_angle+relay_angle+(Math.PI/2))))
                .attr("y", (centerY+0.5*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.sin(characteristic_angle+relay_angle+(Math.PI/2))));  
                NoTrip.text('No Trip').attr("class","VabTrip").style({"stroke": "SteelBlue","fill": "SteelBlue","font-size": "24px"}).attr("x", (centerX-0.75*(x-xY))).attr("y", (centerY-0.75*(y-yY))).attr("font-size",34).attr("font-weight","bold");
                Trip.text('Trip').attr("class","VabTrip").style({"stroke": "SteelBlue","fill": "SteelBlue","font-size": "24px"}).attr("x", (centerX+0.9*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.cos(Math.atan2((y-yY),(x-xY))+(-Math.PI/2)+(Math.PI/12)))).attr("y", (centerY+0.9*Math.sqrt((x-xY)*(x-xY)+(y-yY)*(y-yY))*Math.sin(Math.atan2((y-yY),(x-xY))+(-Math.PI/2)+(Math.PI/12)))).attr("font-size",34).attr("font-weight","bold").attr("title","SOme text"); 

            
                
                time +=0.035;

                
                //--- tu ue ater for demo d3.select("#char").style("display","none");
                
                setTimeout(draw, 35); } 
                draw(); 
                relay_angle = -45 * Math.PI/ 180;
                d3.select("#Rchar").on("input", function() {
                relay_angle = (-Rchar)* Math.PI / 180; 
                });

                })();



            //---------------------------DDD      ----------------------------
            //---------------------------D  DD    ----------------------------
            //---------------------------D   DD   ----------------------------
            //---------------------------D    DD  ----------------------------
            //---------------------------D  DD    ----------------------------
            //---------------------------DDD      ----------------------------


            //------------START ---------DDD      -Overcurrent Inverse curves
            //------------------------ DD   DD    ----------------------------
            //------------------------DD     DD   ----------------------------
            //-----------------------DD       DD  ----------------------------
            //------------------------DD     DD    ----------------------------
            //---------------------------DDD      ----------------------------
            var IEEEDisplay = d3.select("#IEEE");
            IEEEDisplay.style("display", "none");
            var USDisplay = d3.select("#US");
            USDisplay.style("display", "none");
            var IECDisplay = d3.select("#IEC");
            IECDisplay.style("display", "none");
            var UKDisplay = d3.select("#UK");
            UKDisplay.style("display", "none");
            d3.select("#li_IEEE").on("mousedown", function() {d3.select("#IEEE").style("display", "block");})
            d3.select("#IEEE").on("mouseleave", function() {d3.select("#IEEE").style("display", "none");});
            d3.select("#li_US").on("mousedown", function() {d3.select("#US").style("display", "block");})
            d3.select("#US").on("mouseleave", function() {d3.select("#US").style("display", "none");});
            d3.select("#li_IEC").on("mousedown", function() {d3.select("#IEC").style("display", "block");})
            d3.select("#IEC").on("mouseleave", function() {d3.select("#IEC").style("display", "none");});
            d3.select("#li_UK").on("mousedown", function() {d3.select("#UK").style("display", "block");})
            d3.select("#UK").on("mouseleave", function() {d3.select("#UK").style("display", "none");});
            
            
        function setValueIEEE_VI(inValue) {if ((li_IEEE_VI.value)===0) {li_IEEE_VI.value=1;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_IEEE_VI.value=0; }}
        function setValueIEEE_EI(inValue) {if ((li_IEEE_EI.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=2;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_IEEE_EI.value=0; }}
        function setValueIEEE_MI(inValue) {if ((li_IEEE_MI.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=3;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_IEEE_MI.value=0; }}
        function setValueUS_I(inValue) {if ((li_US_I.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=4;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_US_I.value=0; }}
        function setValueUS_STI(inValue) {if ((li_US_STI.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=5;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_US_STI.value=0; }} 
        function setValueIEC_MI(inValue) {if ((li_IEC_MI.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=6;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_IEC_MI.value=0; }} 
        function setValueIEC_VI(inValue) {if ((li_IEC_VI.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=7;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_IEC_VI.value=0; }} 
        function setValueIEC_EI(inValue) {if ((li_IEC_EI.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=8;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_IEC_EI.value=0; }} 
        function setValueUK_LTI(inValue) {if ((li_UK_LTI.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=9;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_UK_LTI.value=0; }} 
        function setValueUK_R(inValue) {if ((li_UK_R.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=10;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_UK_R.value=0; }}
        function setValueIEEE(inValue) { IEEEDisplay.style("display","block");USDisplay.style("display","none");IECDisplay.style("display","none");UKDisplay.style("display","none"); if ((li_IEEE.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=11;li_US.value=0;li_UK.value=0;li_IEC.value=0;} else { li_IEEE_VI.value=0; }}
        function setValueUS(inValue) {IEEEDisplay.style("display","none");USDisplay.style("display","block");IECDisplay.style("display","none");UKDisplay.style("display","none");if ((li_IEEE.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=12;li_UK.value=0;li_IEC.value=0;} else { li_IEEE_VI.value=0; }}
        function setValueIEC(inValue) {IEEEDisplay.style("display","none");USDisplay.style("display","none");IECDisplay.style("display","block");UKDisplay.style("display","none");if ((li_IEEE.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=13;li_IEC.value=0;} else { li_IEEE_VI.value=0; }}
        function setValueUK(inValue) {IEEEDisplay.style("display","none");USDisplay.style("display","none");IECDisplay.style("display","none");UKDisplay.style("display","block");if ((li_IEEE.value)===0) {li_IEEE_VI.value=0;li_IEEE_EI.value=0;li_IEEE_MI.value=0;li_US_I.value=0;li_US_STI.value=0;li_IEC_MI.value=0;li_IEC_VI.value=0;li_IEC_EI.value=0;li_UK_LTI.value=0;li_UK_R.value=0;li_IEEE.value=0;li_US.value=0;li_UK.value=0;li_IEC.value=14;} else { li_IEEE_VI.value=0; }}

        var beta=19.61,alfa_curve=2,L=0.491;

        t1=(beta/(Math.pow(1.5,alfa_curve)-1))+L;
        t2=(beta/(Math.pow(2,alfa_curve)-1))+L;
        t3=(beta/(Math.pow(3,alfa_curve)-1))+L;
        t5=(beta/(Math.pow(5,alfa_curve)-1))+L;
        t10=(beta/(Math.pow(10,alfa_curve)-1))+L;

        var     dataset_curve = [[ 1.5,t1,"","none"],[ 2,t2,"x2","blue"], [ 3,t3,"x3","blue"], [ 5,t5,"x5","blue"], [ 10,t10,"x10","blue"] ];
            datasetd = [{x: 1.5, y: t1},{x: 2, y: t2}, {x: 3, y: t3}, {x: 5, y: t5}, {x: 10, y: t10}];

        var planetop=140,planetop2=40,Lleft=80,ftypeleft=132,ftextleft=232; 


        var margin = {top: 30, right: 30, bottom: 30, left: 30},
        width_curve = 600 - margin.left - margin.right,
        height_curve = 600 - margin.top - margin.bottom;	    
        var xscale_curve = d3.scale.linear().range([0, width_curve]),
        yscale_curve = d3.scale.linear().range([0, -height_curve]),
        xAxis_curve = d3.svg.axis().scale(xscale_curve).ticks(9).orient('top'),
        yAxis_curve = d3.svg.axis().scale(yscale_curve).ticks(5).orient('right');
        var domy=0.14/(Math.pow(1.45,0.02)-1);domx=10;
        xscale_curve.domain([0,domx]);
        yscale_curve.domain([0,domy]);
                                
        var svg = d3.select("#svg4627").append("svg")
        .attr("id", "VizOvercurrent")
        .attr("width", width_curve + margin.left + margin.right)
        .attr("height", height_curve + margin.top + margin.bottom)
        .style("border-width","1px")
        .style("border-color","black")
        .style("position","absolute")
        .style("left",Lleft+"px")
        .style("top",planetop2+"px")
        .append("g")
        .attr("transform", "translate(" + 20 + "," + 20 + ")");

        // Add the x-axis.
        var abciss = svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(" + (0) + "," + height_curve + ")")
        .call(xAxis_curve);

        // Add the y-axis.
        var ordinate = svg.append("g")
        .attr("class", "y axis")
        .attr("transform", "translate(" + 0 + "," + height_curve +")")
        .call(yAxis_curve);

        // Add circles
        svg.selectAll("circleZ")
        .data(dataset_curve)
        .enter()
        .append("circle")
        .attr("cx", function(d) {return (d[0]*(width_curve)/(domx));})
        .attr("cy", function(d) {return (height_curve-d[1]*(height_curve)/domy);})
        .attr("r", 5)
        .style("fill",function(d) {return d[3];})
        .style("display","inline");

        var text =svg.selectAll("textZ")
        .data(dataset_curve)
        .enter()
        .append("text");
        
        var labels = text  
        .attr("x", function(d) {return (d[0]*(width_curve)/(domx));})
        .attr("y", function(d) {return (height_curve-d[1]*(height_curve)/domy);})
        .text( function(d) {return d[2];})
        .attr("font-family", "sans-serif")
        .attr("font-size", "21px")
        .attr("fill", "red")
        .style("display","inline");     
        
        var textx2 = d3.select("#x2")
            .text(t2.toFixed(2)); 
        var textx3 = d3.select("#x3")
            .text(t3.toFixed(2));
        var textx5 = d3.select("#x5")
            .text(t5.toFixed(2));
        var textx10 = d3.select("#x10")
            .text(t10.toFixed(2));

        var lineFunction = d3.svg.line()
                                .x(function(d) { return d.x*(width_curve)/(domx); })
                                .y(function(d) { return height_curve-d.y*(height_curve)/(domy); })
                                .interpolate("cardinal");

        var lineGraph = svg.append("path")
                                    .attr("d", lineFunction(datasetd))
                                    .attr("stroke", "blue")
                                    .attr("stroke-width", 2)
                                    .attr("fill", "none")
                                .style("display","inline");   

			  (function() {
				d3.select("#UKLTI").style("display","none");d3.select("#UKR").style("display","none");
		d3.select("#IEEEVI").style("display","none");d3.select("#IEEEEI").style("display","none");d3.select("#IEEEMI").style("display","none");
		d3.select("#IECVI").style("display","none");d3.select("#IECMI").style("display","none");d3.select("#IECEI").style("display","none");
		d3.select("#USI").style("display","none");d3.select("#USSTI").style("display","none");
		d3.select("#Curveselect").style("display","none");
				
		d3.select(".form12_4").style("display","inline");  d3.select(".form13_4").style("display","none"); 
				
			  var update = function() {
		//---------------menu---------

        d3.selectAll("li")
            .each(function(d, i) {
                var value = i;
                d3.select(this)
                .on("click", function(event) {
                    
		msgs = li_IEEE_VI.value*1 + li_IEEE_EI.value*1 + li_IEEE_MI.value*1 + li_US_I.value*1 + li_US_STI.value*1 + li_IEC_MI.value*1 + li_IEC_VI.value*1 + li_IEC_EI.value*1 + li_UK_LTI.value*1 + li_UK_R.value*1 + li_IEEE.value*1 + li_US.value*1 + li_UK.value*1 + li_IEC.value*1;
			console.log("msgs--------- new------------------",msgs,'--');
			console.log(li_IEEE_VI.value*1, li_IEEE_EI.value*1, li_IEEE_MI.value*1 , li_US_I.value*1 ,li_US_STI.value*1 , li_IEC_MI.value*1 , li_IEC_VI.value*1 , li_IEC_EI.value*1 , li_UK_LTI.value*1 ,li_UK_R.value*1, li_IEEE.value*1 , li_US.value*1 , li_UK.value*1 ,li_IEC.value*1);
				  if(msgs===1 || msgs===2 || msgs===3 || msgs===4 || msgs===5 || msgs===11 || msgs===12){
					  d3.selectAll(".form12_4").style("display","inline");d3.selectAll(".form13_4").style("display","none");
					  timemultval=TDial.value*1;d3.select("#TDout").text(timemultval.toFixed(2));change();
					} 
				  else{
					  if(msgs===6 || msgs===7 || msgs===8 || msgs===9 || msgs===10 || msgs===13 || msgs===14){
					  d3.selectAll(".form12_4").style("display","none");d3.selectAll(".form13_4").style("display","inline");
					  timemultval=TTMS.value*1;d3.select("#TMSout").text(timemultval.toFixed(2));change();
					};
				  }
				 
			d3.select("li #li_IEEE_EI,#li_IEEE_VI,#li_IEEE_MI,#li_IEC_EI,#li_IEC_VI,#li_IEC_MI,#li_US_STI,#li_US_I,#li_UK_LTI,#li_UK_R")

				.on("click", function() {change(this);});

				d3.selectAll(".form12_4,.form13_4")
						.on("click", function() {change(this.x.value);});

                d3.selectAll(".form12_4").on("slidestart", function() {change();});
                d3.selectAll(".form12_4").on("slidestop", function() {change();});
                d3.selectAll(".form13_4").on("slidestart", function() {change();});
                d3.selectAll(".form13_4").on("slidestop", function() {change();});
		  
		function change() { 

				  if(msgs===1 || msgs===2 || msgs===3 || msgs===4 || msgs===5)  {timemultval=TDial.value*1;d3.select("#TDout") .text(timemultval.toFixed(2));} 
			else{ if(msgs===6 || msgs===7 || msgs===8 || msgs===9 || msgs===10){timemultval=TTMS.value*1 ;d3.select("#TMSout").text(timemultval.toFixed(2));};}        
				
		d3.select("#UKLTI").style("display","none");d3.select("#UKR").style("display","none");
		d3.select("#IEEEVI").style("display","none");d3.select("#IEEEEI").style("display","none");d3.select("#IEEEMI").style("display","none");
		d3.select("#IECVI").style("display","none");d3.select("#IECMI").style("display","none");d3.select("#IECEI").style("display","none");
		d3.select("#USI").style("display","none");d3.select("#USSTI").style("display","none");
		d3.select("#Curveselect").style("display","none");

			
				
				 fault=1;
					if (msgs===1) {fault=1;}
					if (msgs===2) {fault=2;} 
					if (msgs===3) {fault=3;} 
					if (msgs===4) {fault=4;} 
					if (msgs===5) {fault=5;} 
					if (msgs===6) {fault=6;} 
					if (msgs===7) {fault=7;} 
					if (msgs===8) {fault=8;} 
					if (msgs===9) {fault=9;} 
					if (msgs===10) {fault=10;} 
					if (msgs===11) {fault=11;}     
					if (msgs===12) {fault=12;}  
					if (msgs===13) {fault=13;}  
					if (msgs===14) {fault=14;}  
 
			  console.log("------------------- msg-----",msgs,"------  fault",fault);        
		var beta=19.61,alfa_curve=2,L=0.491;

		switch (fault)
		{
		case 1 :
			beta=19.61,alfa_curve=2,L=0.491;
				d3.select("#IEEEVI").style("display","inline");
		  break;
		case 2:
			beta=28.2,alfa_curve=2,L=0.1217;
				d3.select("#IEEEEI").style("display","inline");
		  break;
		case 3:
				beta=0.0515,alfa_curve=0.02,L=0.114; 
				d3.select("#IEEEMI").style("display","inline");
		  break;  
		case 6 :
			beta=13.5,alfa_curve=1,L=0;
				d3.select("#IECMI").style("display","inline");
		  break;
		case 7:
			beta=80,alfa_curve=2,L=0;
				d3.select("#IECVI").style("display","inline");
		  break;
		case 8:
				beta=0.4,alfa_curve=0.02,L=0; 
				d3.select("#IECEI").style("display","inline");
		  break; 
		case 4 :
			beta=5.95,alfa_curve=2,L=0.18;
				d3.select("#USI").style("display","inline");
		  break;
		case 5:
			beta=0.16758,alfa_curve=0.02,L=0.11858;
				d3.select("#USSTI").style("display","inline");
		  break;
		case 9:
				beta=120,alfa_curve=1,L=0; 
				d3.select("#UKLTI").style("display","inline");
		  break;  
		case 10:
				beta=45900,alfa_curve=5.6,L=0; 
				d3.select("#UKR").style("display","inline");
		  break;      

		case 11:
			   d3.select("#IEEEVI").style("display","none");
			   d3.select("#Curveselect").style("display","inline");
		  break;             
		case 12:
			   d3.select("#USI").style("display","none");
			   d3.select("#Curveselect").style("display","inline");
		  break;  
		case 13:
			   d3.select("#IECMI").style("display","none");
			   d3.select("#Curveselect").style("display","inline");
		  break;  
		case 14:
			   d3.select("#UKLTI").style("display","none");
			   d3.select("#Curveselect").style("display","inline");
		  break;        
		}
			t1=timemultval*(beta/(Math.pow(1.5,alfa_curve)-1))+L;
			t2=timemultval*(beta/(Math.pow(2,alfa_curve)-1))+L;
			t3=timemultval*(beta/(Math.pow(3,alfa_curve)-1))+L;
			t5=timemultval*(beta/(Math.pow(5,alfa_curve)-1))+L;
			t10=timemultval*(beta/(Math.pow(10,alfa_curve)-1))+L;
		  d3.select("#tspan3997").text(beta);  
		  d3.select("#facteuralfa").text(alfa_curve);
		  d3.select("#multiplicateur").text(timemultval.toFixed(2));
		  
		  if(fault===1 || fault===2 || fault===3 || fault===7 || fault===8){
								d3.select("#TD").style("display","inline");
								d3.select("#TMS").style("display","none");
								d3.select("#path3971").style("display","inline");
								d3.select("#path3973").style("display","inline");
								d3.select("#text4003").style("display","inline");
								d3.select("#path3925").style("display","inline");
								d3.select("#path3927").style("display","inline");
								d3.select("#path3929").style("display","inline");
								d3.select("#facteurL").style("display","inline"); 
								d3.select("#facteurL").text(L);
							}
		  if(fault===4 || fault===5 || fault===6 || fault===9 || fault===10){
									d3.select("#TMS").style("display","inline");
									d3.select("#TD").style("display","none");
									d3.select("#path3971").style("display","none");
									d3.select("#path3973").style("display","none");
									d3.select("#text4003").style("display","none");
									d3.select("#path3925").style("display","none");
									d3.select("#path3927").style("display","none");
									d3.select("#path3929").style("display","none");
									d3.select("#facteurL").style("display","none");
							  }
		  
				dataset_curve = [];
		  var  datasetbuffer = [{x: 1.5, y: t1, t: "",col:"none"},{x: 2, y: t2, t: "x2",col:"blue"}, {x: 3, y: t3, t: "x3",col:"blue"}, {x: 5, y: t5, t: "x5",col:"blue"}, {x: 10, y: t10, t: "x10",col:"blue"}];
						
		for (var i = 0; i < 5; i++) {                       //Loop numValues times
								var newNumber1 = datasetbuffer[i].x;  //New  integer
								var newNumber2 = datasetbuffer[i].y;  //New  integer
								var text = datasetbuffer[i].t;  //same text
								var color = datasetbuffer[i].col;
								dataset_curve.push([newNumber1, newNumber2,text,color]); //Add new to array
							}       

		datasetd = [{x: dataset_curve[0,0][0], y: dataset_curve[0,0][1]},{x: dataset_curve[0,1][0], y: dataset_curve[0,1][1]},{x: dataset_curve[0,2][0], y: dataset_curve[0,2][1]},{x: dataset_curve[0,3][0], y: dataset_curve[0,3][1]},{x: dataset_curve[0,4][0], y: dataset_curve[0,4][1]}];
		  
			xscale_curve = d3.scale.linear().range([0, width_curve]),
			yscale_curve = d3.scale.linear().range([0, -height_curve]),
			xAxis_curve = d3.svg.axis().scale(xscale_curve).ticks(9).orient('top'),
			yAxis_curve = d3.svg.axis().scale(yscale_curve).ticks(5).orient('right');
		 domy=t1;domx=10;

		  xscale_curve.domain([0,domx]);
		  yscale_curve.domain([0,domy]);

							svg.selectAll("circle")
							   .data(dataset_curve)
							   .transition()
							   .duration(1000)
							   .attr("cx", function(d) {return (d[0]*(width_curve)/(domx));})
							   .attr("cy", function(d) {return (height_curve-d[1]*(height_curve)/domy);})
							   .ease("cubic-in")
							.style("fill",function(d) {return d[3];})
							.style("display","inline")
							   .attr("r", 3.5);
							labels
								 .data(dataset_curve)
								 .transition()
								 .duration(1000)
								 .attr("x", function(d) {return (5+d[0]*(width_curve)/domx);})
								 .attr("y", function(d) {return (-20+height_curve-d[1]*(height_curve)/domy);})
								 .text(function(d) {return d[2];})                 
								 .ease("cubic-in")      
								 .style("display","inline")
								 .attr("font-family", "sans-serif")
								 .attr("font-size", "21px")
								 .attr("fill", "red");     
						 
						  var lineFunction = d3.svg.line()
													  .x(function(d) { return d.x*(width_curve)/(domx); })
													  .y(function(d) { return height_curve-d.y*(height_curve)/(domy); })
													 .interpolate("cardinal");

							//The line SVG Path we draw
						  lineGraph
							   .data(datasetd)
							   .transition()
							   .duration(1000)
								.attr("d", lineFunction(datasetd)).ease("cubic-in")
						.style("display","inline")
								.attr("stroke", "blue")
								.attr("stroke-width", 2)
								.attr("fill", "none");   
						  abciss
							  .attr("class", "x axis")
							  .attr("transform", "translate(" + 0 + "," + height_curve + ")")
							  .call(xAxis_curve);

						  // Add the y-axis.
						  ordinate
							  .attr("class", "y axis")
							  .attr("transform", "translate(" + 0 + "," + height_curve +")")
							  .call(yAxis_curve);
							//Update all circles        
			textx2 = d3.select("#x2")
					 .transition()
					 .delay(1000)
					 .duration(1500)
					 .text(t2.toFixed(2)); 
			textx3 = d3.select("#x3")
					 .transition()
					 .delay(1000)
					 .duration(1500)
				.text(t3.toFixed(2));
			textx5 = d3.select("#x5")
					 .transition()
					 .delay(1000)
					 .duration(1500)
				.text(t5.toFixed(2));
			textx10 = d3.select("#x10")
					 .transition()
					 .delay(1000)
					 .duration(1500)
				.text(t10.toFixed(2));
									
		};
        });
        });
    }
		update();
		})();              

            //------------END   ---------DDD      -Overcurrent Inverse curves
            //------------------------ DD   DD    ----------------------------
            //------------------------DD     DD   ----------------------------
            //-----------------------DD       DD  ----------------------------
            //------------------------DD     DD    ----------------------------
            //---------------------------DDD      ----------------------------
            



        </script>
        
    <script src="index_layout.js"></script>
</main>
</body>
</html>
